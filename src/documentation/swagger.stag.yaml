openapi: 3.0.3
info:
  title: Careplace - Backend REST API
  description: |-
    Careplace REST API Documentation - OpenAPI Specification 3.0.3.
    This REST API is used to manage all Careplace applications.
  termsOfService: "https://www.careplace.pt/termos-e-condicoes"
  contact:
    email: admin@careplace.pt
  version: 1.0.0
servers:
  - url: "https://www.staging.api.careplace.pt"
    description: Staging Environment
    default: true
  - url: "http://www.staging.api.careplace.pt"
    description: Staging Environment (HTTP)
tags:
  - name: Authentication
    description: Authentication operations
  - name: Users
    description: Users operations
  - name: Companies
    description: Companies operations
  - name: Orders
    description: Orders operations
  - name: Checkout
    description: Checkout operations
  - name: Calendar
    description: Calendar operations
  - name: Services
    description: Services operations
  - name: Files
    description: Files operations
  - name: Admin
    description: Admin operations
paths:
  /auth/marketplace/signup:
    post:
      tags:
        - Authentication
      summary: Marketplace Signup
      description: >-
        Creates a new user in the Marketplace. <br>
      operationId: marketplaceSignup
      requestBody:
        description: Signup user to the Marketplace
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: John Doe
                email:
                  type: string
                  example: email@domain.com
                phone:
                  type: string
                  example: "912345678"
                password:
                  type: string
                  example: CareplaceDemo-123!
                address:
                  type: object
                  properties:
                    country:
                      type: string
                      example: PT
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                $ref: "#/components/schemas/Marketplace_User"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Invalid request
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token

  /auth/crm/login:
    post:
      tags:
        - Authentication
      summary: CRM Login
      description: >-
        Returns the Authentication Information in a ```JWT Context```. <br> This
        endpoint only returns the ```access_token```, the
        ```access_token_expiration```, ```access_token_type``` and
        ```refresh_token```. <br> To get the user information, you need to call
        the ```/users/account``` endpoint. <br> It is considered that a user is
        logged in if the ```access_token_expiration``` is greater than the
        current time.
      operationId: crmLogin
      requestBody:
        description: Login user to the CRM
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: owner@staging.careplace.pt
                password:
                  type: string
                  example: CareplaceDemo-123!
        required: true
        security:
          - jwt_context:
              - "write:pets"
              - "read:pets"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  access_token:
                    type: string
                    example: >-
                      eyJraWQiOiJsRjBmbkZGRURCSmJLSDNvdDNhZmsrUWFyRWdndk81QmtIYmh5VDJZZ1d3PSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIzOTQyNWYzYi1hNjM3LTRlNmEtOWRiNC05N2ZkMjEzMmE0MTYiLCJkZXZpY2Vfa2V5IjoiZXUtd2VzdC0zXzNiMjVlYmRlLTU3NmQtNGJlZS1hOGI1LWM0NDM5NmJiYmZhNiIsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTMuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0zX3dCbkRodXZvYSIsImNsaWVudF9pZCI6IjQ1YTlwajAwaHAzNG44NzE2amNvcDMzN3E5Iiwib3JpZ2luX2p0aSI6ImFlZTg3MTcyLWNmNTQtNDNjMS04NjMyLWU4MTIzOTU3M2ZiMiIsImV2ZW50X2lkIjoiMzIxMDg5YzYtNGE5ZC00YTllLThmNDItNjEzM2U3ODc1YWQ2IiwidG9rZW5fdXNlIjoiYWNjZXNzIiwic2NvcGUiOiJhd3MuY29nbml0by5zaWduaW4udXNlci5hZG1pbiIsImF1dGhfdGltZSI6MTY3NTAwOTQ5MywiZXhwIjoxNjc1MDk1ODkzLCJpYXQiOjE2NzUwMDk0OTMsImp0aSI6ImUwYjJkNDUwLThhMGUtNDA0NC1iOGRhLTM2MTc3NTZkY2IyYSIsInVzZXJuYW1lIjoiMzk0MjVmM2ItYTYzNy00ZTZhLTlkYjQtOTdmZDIxMzJhNDE2In0.j0I6qJC7kwXa3YktURNzJJ56TfPqSrVwlL0pBdu3KVIT_lLVbHMTuJPGUcZ80Cy2HfSFRG3FGB2KA4ePNBS4JJs5CAuNCDiNb-561QTiR4m89zGENoO7HYQsPxx4cQ9Pdp2btRbQW6Zteswg82tURuBKRfjbgAYOmTEbv53OWFPsi4Wp3cHbaZyVoTXj9sGP0Cng2S5ec8lC4il6bj-K4UfKo-p_YFf6L3g3UiW2GmAZs-AQ50whsmkLEvIthaZPp5TIQ4DB-fIceN8yXYdu-4UCe1a_GWe2tlkqv92h-wmdP0hOa0BB8MesRNCLbgJ3xCnRuOhOhfkVGEVTsQBl3w
                  access_token_expiration:
                    type: unix_timestamp
                    example: 86400
                  access_token_type:
                    type: string
                    example: Bearer
                  refresh_token:
                    type: string
                    example: >-
                      eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.dVJmuIT3Z9_ms2dqTSH9FwKts1tdEQCmYg13JP7aGspx2wQ0amKYDXYQ2o1CxM3BwtkeiS_1kSpxU8vkmPW9Hlt0GNURrx-wAjiEnVBCx9tEKkheyh1-8kyiBjjxNCSZNwyM_uydYQ1HZ8P1ZHCocKAGL3gIUHhjK4qeyBPFlKKCw4a9RwXzTF5d8Ly7Jl5rGUNhop1tJsBPbCtqa0duE4VtS87ezV96U5pDNfp-QYNDsX0tHJfGkyhVp9RXSKnQMqg5gX1kssKqUtLJJi3SDt2RgW2ea7DUnGSsmhGkW77ffVkqPQw8b0YtxaFoHj1iQLnxl5MxY85RTuQcrLwawg.E94ltQ9u-C24p_yS.PDKswUIXYmTg9uvAzKDoCeYlb1ksQTlgyJhAWu1oHOVjCdcY1jrx7gk_03NXSQvDpWtZ0KJggq1USyPnCy7OZYgmYsrwcr5Lc5qUb74IVoG2-rfB1q9UZS_YCaC2WNOSlxiZBEfhPKGZeTsIZ-W1hsiWexbdA_KB0dItYkmMZ3IrwY7l7RfnyaM_Riv9puAHVIINt6MlnKbhz-P2s4VU-IGQCG3L539xhTz4XiarHVvb5lNn0fX23PkoONw_oUHpRN39-ot6Z4wye0bap0fSD4vVAA0EWvylsmqugINM6egyTJbGFDmT33leuq1ntPip3-KC_iizfO5XZPNY_g2GA6xXPV8auBZXlsvXhT3VpfrhwZ-5IbuPBcFjlWHWPbuwQUW5qgTCK3Clamhe9UDMEgzb7n0WuyhseoJBiFeZ9DWCBCtvriPRNd2xSPAy_sMW-TB2CY3uqtBndjF2AvYpWDN-HhO52QtUy8gI52Cgjtb1fCqKi2BIoCLuVBhJw1PqQrBM0XuZMw1hSl2hvODHLaqJYlBh72JcFVFT__Ab6NqtKtPvkr6bOUf2uzdUskxZL4MQ1A6o8xS_U4qMjaKw5PvzEBTcczo-WaHZrHiY1eA5nzssRQqBVvJeU5hrRP-QT0H8hhUX6ZDVcQu0f4FfdrvjeWO2xV7eUlILiUgl9EvPa242O43kXz8TfJUjX46-4caZ3e9M3inO26HKey9tMGy8KZQ8D60pPJYtDMfM8DcLO6u-5Nw-U2V1GZ416542nlenILuz9id6yYgOkbUh08uNez-I7eq75i8dITsKa4K1wATqKkAkPbfy_9IVYrpY2gEnvtABS4_l7xN7zMdPWYZv6KP6lRAWfpowvJml0i-Rwm1Z_FX06KPqxUOnTItTgh7pt3jS2YjCSKQmuJ5XayWU4GDM52VNPgjvNhAMtIb-GzKLQpJHu8QftLLWQKelZolS5-gveNMneJxkhxKdcNclpLRNJ4GIpxyrPaHssDFBXAhwAi-OH7oiTfm9x3pU8LaXpYmnsKwUiCbhH4tyToyQKVuNgRAVtEr0q36GpA-G8mCejpn3t-QG-T-k4Q3M0Z39wvXcRp2z1yeTfkMNUHKzUTJllLyjgJewxijTYdeya_S-OXz8BNp0UoVwU6nYq5mwT7RPGTpPUWbb3ypofZhu7vGxmQ50F5Qu87APkoYNBHmbJeK1CU-X8Y5xMch-jiKj0tZOB4BFwxhtAd8P8b9yyPhyGNgg_YiO21dDJ4KkfUcu1_P0hL_uIaxl0BgbthGgFKWnnEgWSke07khgcQ9asPhQlYInukH0Y3H3t4mCMelhPTUoHZOWPKH8VtMyg2aRGUWzNW-mdRnSmevL9_fQV14-QkposA721EvaA9tIfSYMRsd4BifSx6up_VuBQzCN-KICS3Ifr1JuR_Lj9ZTaotQrxoUcww670Au_WtXG.hVIgdxxd1WhG88tupLTicQ
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token
  /auth/marketplace/login:
    post:
      tags:
        - Authentication
      summary: Marketplace Login
      description: >-
        Returns the Authentication Information in a ```JWT Context```. <br> This
        endpoint only returns the ```access_token```, the
        ```access_token_expiration```, ```access_token_type``` and
        ```refresh_token```. <br> To get the user information, you need to call
        the ```/users/account``` endpoint. <br> It is considered that a user is
        logged in if the ```access_token_expiration``` is greater than the
        current time.
      operationId: marketplaceLogin
      requestBody:
        description: Login user to the Marketplace
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: user@staging.careplace.pt
                password:
                  type: string
                  example: CareplaceDemo-123!
        required: true
        security:
          - jwt_context:
              - "write:pets"
              - "read:pets"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Marketplace_User"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token
  /auth/crm/send/forgot-password-code:
    post:
      tags:
        - Authentication
      summary: CRM Forgot Password
      description: Sends a forgot password code to the CRM user email.
      operationId: crmForgotPassword
      requestBody:
        description: Send forgot password code to the CRM user email
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: user@staging.careplace.pt
        required: true
        security:
          - jwt_context:
              - "write:pets"
              - "read:pets"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Forgot password code sent successfully
  /auth/marketplace/send/forgot-password-code:
    post:
      tags:
        - Authentication
      summary: Marketplace Forgot Password
      description: Sends a forgot password code to the Marketplace user email.
      operationId: marketplaceForgotPassword
      requestBody:
        description: Send forgot password code to the Marketplace user email
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: owner@staging.careplace.pt
        required: true
        security:
          - jwt_context:
              - "write:pets"
              - "read:pets"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Forgot password code sent successfully
  /auth/crm/verify/forgot-password-code:
    post:
      tags:
        - Authentication
      summary: CRM Verify Forgot Password
      description: >-
        Verifies the forgot password code sent to the CRM user email and changes
        the password.
      operationId: crmForgotPassword
      requestBody:
        description: >-
          Verify forgot password code sent to the CRM user email and change the
          password.
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: owner@staging.careplace.pt
                code:
                  type: string
                  example: 123456
                newPassword:
                  type: string
                  example: CareplaceDemo-123!
        required: true
        security:
          - jwt_context:
              - "write:pets"
              - "read:pets"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Forgot password code sent successfully
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Invalid code. Please request a new code.
                  type:
                    type: string
                    example: INVALID_REQUEST
  /auth/marketplace/verify/forgot-password-code:
    post:
      tags:
        - Authentication
      summary: Marketplace Verify Forgot Password
      description: >-
        Verifies the forgot password code sent to the Marketplace user email and
        changes the password.
      operationId: crmForgotPassword
      requestBody:
        description: >-
          Verify forgot password code sent to the Marketplace user email and
          change the password.
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: user@staging.careplace.pt
                code:
                  type: string
                  example: 123456
                newPassword:
                  type: string
                  example: CareplaceDemo-123!
        required: true
        security:
          - jwt_context:
              - "write:pets"
              - "read:pets"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Forgot password code sent successfully
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Invalid code. Please request a new code.
                  type:
                    type: string
                    example: INVALID_REQUEST
  /auth/marketplace/send/confirmation-code:
    post:
      tags:
        - Authentication
      summary: Marketplace Send Confirmation Code
      description: >-
        Sends a confirmation code to the Marketplace user phone number. This
        code is used to confirm the phone number address so that the user can
        login. This endpoint should also be used to resend the confirmation
        code.
      operationId: marketplaceSendConfirmationCode
      requestBody:
        description: Send confirmation code to the Marketplace phone number.
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: user@staging.careplace.pt
        required: true
        security:
          - jwt_context:
              - "write:pets"
              - "read:pets"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Confirmation code sent successfully.
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: User does not exist.
                  type:
                    type: string
                    example: BAD_REQUEST
  /auth/marketplace/verify/confirmation-code:
    post:
      tags:
        - Authentication
      summary: Marketplace Verify Confirmation Code
      description: >-
        Verifies the confirmation code sent to the Marketplace user phone number
        and confirms the phone number  so that the user can login.
      operationId: marketplaceVerifyConfirmationCode
      requestBody:
        description: >-
          Verify confirmation code sent to the Marketplace user phone number and
          confirm the phone number  so that the user can login.
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: user@staging.careplace.pt
                code:
                  type: string
                  example: 123456
        required: true
        security:
          - jwt_context:
              - "write:pets"
              - "read:pets"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Forgot password code sent successfully
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Invalid code. Please request a new code.
                  type:
                    type: string
                    example: INVALID_REQUEST
  /auth/logout:
    post:
      tags:
        - Authentication
      summary: Logout
      description: Logs out current logged in user session
      operationId: logout
      security:
        - jwt_context:
            - "write:pets"
            - "read:pets"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: User logged out successfully
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  /auth/change-password:
    post:
      tags:
        - Authentication
      summary: Change password
      description: Changes the password of the current logged in user
      operationId: changePassword
      requestBody:
        description: Change password
        content:
          application/json:
            schema:
              type: object
              properties:
                oldPassword:
                  type: string
                  example: CareplaceDemo-123!
                newPassword:
                  type: string
                  example: CareplaceDemo-123!
        required: true
      security:
        - jwt_context:
            - "write:pets"
            - "read:pets"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Password changed successfully
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    examples:
                      bad_request:
                        value:
                          message: Bad Request
                      token:
                        value:
                          message: Missing token
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  /users/account:
    get:
      tags:
        - Users
      summary: Get user account
      description: >-
        Returns the full user account information. <br>The user is fetched in
        the database through the ```cognito_id```extracted from the ```Access
        Token``` provided in the ```Request Headers```. <br> The frontend can
        store this document on the local storage and use it with the
        AuthContext() to display the user information. <br> <br> Example: <br>
        ``` const { user } = useContext(AuthContext);``` <br>  ```const
        attribute = user.attribute; ``` <br>
      operationId: getUserAccount
      security:
        - jwt_context:
            - write
            - read
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                    example: John Doe
                  email:
                    type: string
                    example: null
                  phone:
                    type: string
                    example: 912345678
                  birthdate:
                    type: string
                    format: date
                    example: 2023-02-01T18:33:42.984Z
                  gender:
                    type: string
                    example: male
                  company:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 5f9f1b9b9c9d440000a1b0f2
                      business_profile:
                        type: object
                        properties:
                          name:
                            type: string
                            example: Careplace
                          email:
                            type: string
                            example: null
                          phone:
                            type: string
                            example: 912345678
                          website:
                            type: string
                            example: null
                          logo:
                            type: string
                            example: null
                          cover:
                            type: string
                            example: null
                      services:
                        type: array
                        items:
                          type: object
                          properties:
                            _id:
                              type: string
                              example: 5f9f1b9b9c9d440000a1b0f3
                            name:
                              type: string
                              example: Service
                            description:
                              type: string
                              example: Service description
                            short_description:
                              type: string
                              example: Service short description
                            image:
                              type: string
                              example: null
                      service_area:
                        type: array
                        items:
                          type: object
                          properties:
                            latitude:
                              type: number
                              example: 38.736946
                            longitude:
                              type: number
                              example: -9.142685
                      team:
                        type: array
                        items:
                          type: string
                          example: 5f9f1b9b9c9d440000a1b0f4
                      legal_information:
                        type: object
                        properties:
                          name:
                            type: string
                            example: "CAREPLACE, LDA."
                          tax_id:
                            type: string
                            example: "123456789"
                          business_structure:
                            type: string
                            example: LDA
                          address:
                            type: object
                            properties:
                              street:
                                type: string
                                example: Rua da Alegria
                              postal_code:
                                type: string
                                example: 1000-000
                              city:
                                type: string
                                example: Lisboa
                              country:
                                type: string
                                example: PT
                              coordinates:
                                type: object
                                properties:
                                  latitute:
                                    type: number
                                    example: 38.736946
                                  longitude:
                                    type: number
                                    example: -9.142685
                  profile_picture:
                    type: string
                    example: null
                  address:
                    type: object
                    properties:
                      street:
                        type: string
                        example: Rua da Alegria
                      postal_code:
                        type: string
                        example: 1000-000
                      city:
                        type: string
                        example: Lisboa
                      country:
                        type: string
                        example: PT
                      coordinates:
                        type: object
                        properties:
                          latitude:
                            type: number
                            example: 38.736946
                          longitude:
                            type: number
                            example: -9.142685
                  role:
                    type: string
                    example: technical_direction
                  settings:
                    type: object
                    properties:
                      theme:
                        type: string
                        example: light
                      notifications:
                        type: object
                        properties:
                          email:
                            type: boolean
                            example: true
                          sms:
                            type: boolean
                            example: true
                          push:
                            type: boolean
                            example: true
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  /users/orders:
    get:
      tags:
        - Users
      summary: Get user orders
      description: Get user orders.
      operationId: getUserOrders
      security:
        - jwt_context:
            - write
            - read
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    _id:
                      type: string
                      example: 5f9f1b0b0b9b0b0b0b0b0b0b
                    company:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 5f9f1b0b0b9b0b0b0b0b0b0b
                        business_profile:
                          type: object
                          properties:
                            name:
                              type: string
                              example: Careplace
                            email:
                              type: string
                              example: null
                            phone:
                              type: string
                              example: 123456789
                            website:
                              type: string
                              example: "https://careplace.com"
                            logo:
                              type: string
                              example: "https://careplace.com/logo.png"
                            cover:
                              type: string
                              example: "https://careplace.com/cover.png"
                        services:
                          type: array
                          items:
                            type: object
                            properties:
                              _id:
                                type: string
                                example: 5f9f1b0b0b9b0b0b0b0b0b0b
                              name:
                                type: string
                                example: Service 1
                              description:
                                type: string
                                example: Service 1 description
                              short_description:
                                type: string
                                example: Service 1 short description
                              image:
                                type: string
                                example: "https://careplace.com/service1.png"
                        service_area:
                          type: array
                          items:
                            properties:
                              lat:
                                type: number
                                example: 123.123
                              lng:
                                type: number
                                example: 123.123
                    caregiver:
                      type: object
                      properties:
                        name:
                          type: string
                          example: Caregiver 1
                        email:
                          type: string
                          example: null
                        phone:
                          type: string
                          example: 123456789
                        birthdate:
                          type: string
                          format: date
                          example: 2023-02-01T18:18:18.754Z
                        gender:
                          type: string
                          example: male
                        profile_picture:
                          type: string
                          example: "https://careplace.com/caregiver1.png"
                        company:
                          type: string
                          example: 5f9f1b0b0b9b0b0b0b0b0b0b
                        services:
                          type: array
                          items:
                            type: object
                            properties:
                              _id:
                                type: string
                                example: 5f9f1b0b0b9b0b0b0b0b0b0b
                              name:
                                type: string
                                example: Service 1
                              description:
                                type: string
                                example: Service 1 description
                              short_description:
                                type: string
                                example: Service 1 short description
                              image:
                                type: string
                                example: "https://careplace.com/service1.png"
                    relative:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 5f9f1b0b0b9b0b0b0b0b0b0b
                        name:
                          type: string
                          example: Relative 1
                        birthdate:
                          type: string
                          format: date
                          example: 2023-02-01T18:18:18.754Z
                        gender:
                          type: string
                          example: male
                        kinship:
                          type: object
                          properties:
                            to:
                              type: string
                              example: father
                            from:
                              type: string
                              example: son
                        medical_conditions:
                          type: array
                          items:
                            type: string
                            example: Diabetes
                        profile_picture:
                          type: string
                          example: "https://careplace.com/relative1.png"
                        address:
                          type: object
                          properties:
                            street:
                              type: string
                              example: Street 1
                            postal_code:
                              type: string
                              example: 1234-567
                            city:
                              type: string
                              example: City 1
                            state:
                              type: string
                              example: State 1
                            country:
                              type: string
                              example: PT
                    status:
                      type: string
                      example: active
                    order_total:
                      type: number
                      example: 100
                    services:
                      type: array
                      items:
                        type: object
                        properties:
                          _id:
                            type: string
                            example: 5f9f1b0b0b9b0b0b0b0b0b0b
                          name:
                            type: string
                            example: Service 1
                          description:
                            type: string
                            example: Service 1 description
                          short_description:
                            type: string
                            example: Service 1 short description
                          image:
                            type: string
                            example: "https://careplace.com/service1.png"
                    schedule_information:
                      type: object
                      properties:
                        start_date:
                          type: string
                          format: date
                          example: 2023-02-01T18:18:18.754Z
                        end_date:
                          type: string
                          format: date
                          example: null
                        recurrence:
                          type: integer
                          example: 1
                        schedule:
                          type: array
                          items:
                            type: object
                            properties:
                              week_day:
                                type: integer
                                example: 1
                              start:
                                type: string
                                example: 2019-03-27T12:00:00.000Z
                              end:
                                type: string
                                example: 2019-03-27T12:00:00.000Z
                    address:
                      type: object
                      properties:
                        street:
                          type: string
                          example: Street 1
                        postal_code:
                          type: string
                          example: 1234-567
                        city:
                          type: string
                          example: City 1
                        state:
                          type: string
                          example: State 1
                        country:
                          type: string
                          example: PT
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  "/users/orders/{orderId}":
    get:
      tags:
        - Users
      summary: Get user order
      description: Get user order.
      operationId: getUserOrder
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: orderId
          in: path
          description: Order id
          required: true
          schema:
            type: string
          example: 5e1f9b9b9b9b9b9b9b9b9b9b
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 5f9f1b0b0b9b0b0b0b0b0b0b
                  company:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 5f9f1b0b0b9b0b0b0b0b0b0b
                      business_profile:
                        type: object
                        properties:
                          name:
                            type: string
                            example: Careplace
                          email:
                            type: string
                            example: null
                          phone:
                            type: string
                            example: 123456789
                          website:
                            type: string
                            example: "https://careplace.com"
                          logo:
                            type: string
                            example: "https://careplace.com/logo.png"
                          cover:
                            type: string
                            example: "https://careplace.com/cover.png"
                      services:
                        type: array
                        items:
                          type: object
                          properties:
                            _id:
                              type: string
                              example: 5f9f1b0b0b9b0b0b0b0b0b0b
                            name:
                              type: string
                              example: Service 1
                            description:
                              type: string
                              example: Service 1 description
                            short_description:
                              type: string
                              example: Service 1 short description
                            image:
                              type: string
                              example: "https://careplace.com/service1.png"
                      service_area:
                        type: array
                        items:
                          properties:
                            lat:
                              type: number
                              example: 123.123
                            lng:
                              type: number
                              example: 123.123
                  caregiver:
                    type: object
                    properties:
                      name:
                        type: string
                        example: Caregiver 1
                      email:
                        type: string
                        example: null
                      phone:
                        type: string
                        example: 123456789
                      birthdate:
                        type: string
                        format: date
                        example: 2023-02-01T18:18:18.754Z
                      gender:
                        type: string
                        example: male
                      profile_picture:
                        type: string
                        example: "https://careplace.com/caregiver1.png"
                      company:
                        type: string
                        example: 5f9f1b0b0b9b0b0b0b0b0b0b
                      services:
                        type: array
                        items:
                          type: object
                          properties:
                            _id:
                              type: string
                              example: 5f9f1b0b0b9b0b0b0b0b0b0b
                            name:
                              type: string
                              example: Service 1
                            description:
                              type: string
                              example: Service 1 description
                            short_description:
                              type: string
                              example: Service 1 short description
                            image:
                              type: string
                              example: "https://careplace.com/service1.png"
                  relative:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 5f9f1b0b0b9b0b0b0b0b0b0b
                      name:
                        type: string
                        example: Relative 1
                      birthdate:
                        type: string
                        format: date
                        example: 2023-02-01T18:18:18.754Z
                      gender:
                        type: string
                        example: male
                      kinship:
                        type: object
                        properties:
                          to:
                            type: string
                            example: father
                          from:
                            type: string
                            example: son
                      medical_conditions:
                        type: array
                        items:
                          type: string
                          example: Diabetes
                      profile_picture:
                        type: string
                        example: "https://careplace.com/relative1.png"
                      address:
                        type: object
                        properties:
                          street:
                            type: string
                            example: Street 1
                          postal_code:
                            type: string
                            example: 1234-567
                          city:
                            type: string
                            example: City 1
                          state:
                            type: string
                            example: State 1
                          country:
                            type: string
                            example: PT
                  status:
                    type: string
                    example: active
                  order_total:
                    type: number
                    example: 100
                  services:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 5f9f1b0b0b9b0b0b0b0b0b0b
                        name:
                          type: string
                          example: Service 1
                        description:
                          type: string
                          example: Service 1 description
                        short_description:
                          type: string
                          example: Service 1 short description
                        image:
                          type: string
                          example: "https://careplace.com/service1.png"
                  schedule_information:
                    type: object
                    properties:
                      start_date:
                        type: string
                        format: date
                        example: 2023-02-01T18:18:18.754Z
                      end_date:
                        type: string
                        format: date
                        example: null
                      recurrence:
                        type: integer
                        example: 1
                      schedule:
                        type: array
                        items:
                          type: object
                          properties:
                            week_day:
                              type: integer
                              example: 1
                            start:
                              type: string
                              example: 2019-03-27T12:00:00.000Z
                            end:
                              type: string
                              example: 2019-03-27T12:00:00.000Z
                  address:
                    type: object
                    properties:
                      street:
                        type: string
                        example: Street 1
                      postal_code:
                        type: string
                        example: 1234-567
                      city:
                        type: string
                        example: City 1
                      state:
                        type: string
                        example: State 1
                      country:
                        type: string
                        example: PT
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  "/users/orders/{orderId}/cancel":
    post:
      tags:
        - Users
      summary: Cancel user order
      description: Cancel user order.
      operationId: cancelUserOrder
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: orderId
          in: path
          description: Order id
          required: true
          schema:
            type: string
          example: 5e1f9b9b9b9b9b9b9b9b9b9b
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 5f9f1b0b0b9b0b0b0b0b0b0b
                  company:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 5f9f1b0b0b9b0b0b0b0b0b0b
                      business_profile:
                        type: object
                        properties:
                          name:
                            type: string
                            example: Careplace
                          email:
                            type: string
                            example: null
                          phone:
                            type: string
                            example: 123456789
                          website:
                            type: string
                            example: "https://careplace.com"
                          logo:
                            type: string
                            example: "https://careplace.com/logo.png"
                          cover:
                            type: string
                            example: "https://careplace.com/cover.png"
                      services:
                        type: array
                        items:
                          type: object
                          properties:
                            _id:
                              type: string
                              example: 5f9f1b0b0b9b0b0b0b0b0b0b
                            name:
                              type: string
                              example: Service 1
                            description:
                              type: string
                              example: Service 1 description
                            short_description:
                              type: string
                              example: Service 1 short description
                            image:
                              type: string
                              example: "https://careplace.com/service1.png"
                      service_area:
                        type: array
                        items:
                          properties:
                            lat:
                              type: number
                              example: 123.123
                            lng:
                              type: number
                              example: 123.123
                  caregiver:
                    type: object
                    properties:
                      name:
                        type: string
                        example: Caregiver 1
                      email:
                        type: string
                        example: null
                      phone:
                        type: string
                        example: 123456789
                      birthdate:
                        type: string
                        format: date
                        example: 2023-02-01T18:18:18.754Z
                      gender:
                        type: string
                        example: male
                      profile_picture:
                        type: string
                        example: "https://careplace.com/caregiver1.png"
                      company:
                        type: string
                        example: 5f9f1b0b0b9b0b0b0b0b0b0b
                      services:
                        type: array
                        items:
                          type: object
                          properties:
                            _id:
                              type: string
                              example: 5f9f1b0b0b9b0b0b0b0b0b0b
                            name:
                              type: string
                              example: Service 1
                            description:
                              type: string
                              example: Service 1 description
                            short_description:
                              type: string
                              example: Service 1 short description
                            image:
                              type: string
                              example: "https://careplace.com/service1.png"
                  relative:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 5f9f1b0b0b9b0b0b0b0b0b0b
                      name:
                        type: string
                        example: Relative 1
                      birthdate:
                        type: string
                        format: date
                        example: 2023-02-01T18:18:18.754Z
                      gender:
                        type: string
                        example: male
                      kinship:
                        type: object
                        properties:
                          to:
                            type: string
                            example: father
                          from:
                            type: string
                            example: son
                      medical_conditions:
                        type: array
                        items:
                          type: string
                          example: Diabetes
                      profile_picture:
                        type: string
                        example: "https://careplace.com/relative1.png"
                      address:
                        type: object
                        properties:
                          street:
                            type: string
                            example: Street 1
                          postal_code:
                            type: string
                            example: 1234-567
                          city:
                            type: string
                            example: City 1
                          state:
                            type: string
                            example: State 1
                          country:
                            type: string
                            example: PT
                  status:
                    type: string
                    example: canceled
                  order_total:
                    type: number
                    example: 100
                  services:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 5f9f1b0b0b9b0b0b0b0b0b0b
                        name:
                          type: string
                          example: Service 1
                        description:
                          type: string
                          example: Service 1 description
                        short_description:
                          type: string
                          example: Service 1 short description
                        image:
                          type: string
                          example: "https://careplace.com/service1.png"
                  schedule_information:
                    type: object
                    properties:
                      start_date:
                        type: string
                        format: date
                        example: 2023-02-01T18:18:18.754Z
                      end_date:
                        type: string
                        format: date
                        example: null
                      recurrence:
                        type: integer
                        example: 1
                      schedule:
                        type: array
                        items:
                          type: object
                          properties:
                            week_day:
                              type: integer
                              example: 1
                            start:
                              type: string
                              example: 2019-03-27T12:00:00.000Z
                            end:
                              type: string
                              example: 2019-03-27T12:00:00.000Z
                  address:
                    type: object
                    properties:
                      street:
                        type: string
                        example: Street 1
                      postal_code:
                        type: string
                        example: 1234-567
                      city:
                        type: string
                        example: City 1
                      state:
                        type: string
                        example: State 1
                      country:
                        type: string
                        example: PT
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  /users/relatives:
    get:
      tags:
        - Users
      summary: Get user relatives
      description: Get user relatives.
      operationId: getUserRelatives
      security:
        - jwt_context:
            - write
            - read
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    _id:
                      type: string
                      example: 5f9f1b0b0b9b0b0b0b0b0b0b
                    profile_picture:
                      type: string
                      example: >-
                        https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png
                    name:
                      type: string
                      example: John Doe
                    birthdate:
                      type: string
                      format: date
                      example: 2023-02-01T17:21:48.585Z
                    gender:
                      type: string
                      example: male
                    medical_conditions:
                      type: array
                      items:
                        type: string
                        example: Diabetes
                    address:
                      type: object
                      properties:
                        street:
                          type: string
                          example: 123 Main St
                        postal_code:
                          type: string
                          example: 1234-456
                        city:
                          type: string
                          example: New York
                        state:
                          type: string
                          example: NY
                        country:
                          type: string
                          example: US
                        coordinates:
                          type: object
                          properties:
                            latitude:
                              type: number
                              example: 40.7128
                            longitude:
                              type: number
                              example: 74.006
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
    post:
      tags:
        - Users
      summary: Create user relative
      description: Create user relative.
      operationId: createUserRelative
      security:
        - jwt_context:
            - write
            - read
      requestBody:
        description: Create user relative.
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: John Doe
                kinship:
                  type: string
                  example: father
                birthdate:
                  type: string
                  format: date
                  example: "2023-02-01T18:01:23.133Z"
                gender:
                  type: string
                  example: male
                medical_conditions:
                  type: array
                  items:
                    type: string
                    example: Diabetes
                address:
                  type: object
                  properties:
                    street:
                      type: string
                      example: 123 Main St
                    postal_code:
                      type: string
                      example: 1234-456
                    city:
                      type: string
                      example: New York
                    state:
                      type: string
                      example: NY
                    country:
                      type: string
                      example: US
                    coordinates:
                      type: object
                      properties:
                        latitude:
                          type: number
                          example: 40.7128
                        longitude:
                          type: number
                          example: 74.006
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 5f9f1b0b0b9b0b0b0b0b0b0b
                  profile_picture:
                    type: string
                    example: >-
                      https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png
                  name:
                    type: string
                    example: John Doe
                  birthdate:
                    type: string
                    format: date
                    example: 2023-02-01T17:21:48.585Z
                  gender:
                    type: string
                    example: male
                  kinship:
                    type: object
                    properties:
                      to:
                        type: string
                        example: father
                      from:
                        type: string
                        example: son
                    medical_conditions:
                      type: array
                      items:
                        type: string
                        example: Diabetes
                  address:
                    type: object
                    properties:
                      street:
                        type: string
                        example: 123 Main St
                      postal_code:
                        type: string
                        example: 1234-456
                      city:
                        type: string
                        example: New York
                      state:
                        type: string
                        example: NY
                      country:
                        type: string
                        example: US
                      coordinates:
                        type: object
                        properties:
                          latitude:
                            type: number
                            example: 40.7128
                          longitude:
                            type: number
                            example: 74.006
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  "/users/relatives/{relativeId}":
    get:
      tags:
        - Users
      summary: Get user relative
      description: Get user relative.
      operationId: getUserRelative
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: relativeId
          in: path
          description: Relative ID
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 5f9f1b0b0b9b0b0b0b0b0b0b
                  profile_picture:
                    type: string
                    example: >-
                      https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png
                  name:
                    type: string
                    example: John Doe
                  birthdate:
                    type: string
                    format: date
                    example: 2023-02-01T17:21:48.585Z
                  gender:
                    type: string
                    example: male
                  kinship:
                    type: object
                    properties:
                      to:
                        type: string
                        example: father
                      from:
                        type: string
                        example: son
                  medical_conditions:
                    type: array
                    items:
                      type: string
                      example: Diabetes
                  address:
                    type: object
                    properties:
                      street:
                        type: string
                        example: 123 Main St
                      postal_code:
                        type: string
                        example: 1234-456
                      city:
                        type: string
                        example: New York
                      state:
                        type: string
                        example: NY
                      country:
                        type: string
                        example: US
                      coordinates:
                        type: object
                        properties:
                          latitude:
                            type: number
                            example: 40.7128
                          longitude:
                            type: number
                            example: 74.006
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
    put:
      tags:
        - Users
      summary: Update user relative
      description: Update user relative.
      operationId: updateUserRelative
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: relativeId
          in: path
          description: Relative ID
          required: true
          schema:
            type: string
      requestBody:
        description: Update user relative.
        content:
          application/json:
            schema:
              type: object
              properties: null
            medical_conditions:
              type: array
              items:
                type: string
                example: Diabetes
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 5f9f1b0b0b9b0b0b0b0b0b0b
                  profile_picture:
                    type: string
                    example: >-
                      https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png
                  name:
                    type: string
                    example: John Doe
                  birthdate:
                    type: string
                    format: date
                    example: 2023-02-01T17:21:48.585Z
                  gender:
                    type: string
                    example: male
                  kinship:
                    type: object
                    properties:
                      to:
                        type: string
                        example: father
                      from:
                        type: string
                        example: son
                  medical_conditions:
                    type: array
                    items:
                      type: string
                      example: Diabetes
                  address:
                    type: object
                    properties:
                      street:
                        type: string
                        example: 123 Main St
                      postal_code:
                        type: string
                        example: 1234-456
                      city:
                        type: string
                        example: New York
                      state:
                        type: string
                        example: NY
                      country:
                        type: string
                        example: US
                      coordinates:
                        type: object
                        properties:
                          latitude:
                            type: number
                            example: 40.7128
                          longitude:
                            type: number
                            example: 74.006
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
    delete:
      tags:
        - Users
      summary: Delete user relative
      description: Delete user relative.
      operationId: deleteUserRelative
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: relativeId
          in: path
          description: Relative ID
          required: true
          schema:
            type: string
          example: f9f9f9f9f9f9f9f9f9f9f9f9
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  deleted:
                    type: boolean
                    example: true
                  deleted_document:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 5f9f1b0b0b9b0b0b0b0b0b0b
                      profile_picture:
                        type: string
                        example: >-
                          https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png
                      name:
                        type: string
                        example: John Doe
                      birthdate:
                        type: string
                        format: date
                        example: 2023-02-01T17:21:48.585Z
                      gender:
                        type: string
                        example: male
                      kinship:
                        type: object
                        properties:
                          to:
                            type: string
                            example: father
                          from:
                            type: string
                            example: son
                    medical_conditions:
                      type: array
                      items:
                        type: string
                        example: Diabetes
                      address:
                        type: object
                        properties:
                          street:
                            type: string
                            example: 123 Main St
                          postal_code:
                            type: string
                            example: 1234-456
                          city:
                            type: string
                            example: New York
                          state:
                            type: string
                            example: NY
                          country:
                            type: string
                            example: US
                          coordinates:
                            type: object
                            properties:
                              latitude:
                                type: number
                                example: 40.7128
                              longitude:
                                type: number
                                example: 74.006
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  /companies/search:
    get:
      tags:
        - Companies
      summary: Search companies
      description: Search companies by name.
      operationId: searchCompanies
      parameters:
        - name: services
          in: query
          description: Services
          required: false
          schema:
            type: array
            items:
              type: string
          example:
            - 63a33cb60321ea2b81253140
            - 63a4addf387528ade98712ee
        - name: sortBy
          in: query
          description: Sort by attribute
          required: false
          schema:
            type: string
          example: name
        - name: sortOrder
          in: query
          description: Sort order
          required: false
          schema:
            type: string
            enum:
              - asc
              - desc
          example: asc
        - name: page
          in: query
          description: Page number
          required: false
          schema:
            type: integer
          example: 1
        - name: limit
          in: query
          description: Limit per page
          required: false
          schema:
            type: integer
          example: 10
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  companies:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 63a33cb60321ea2b81253140
                        business_profile:
                          type: object
                          properties:
                            name:
                              type: string
                              example: Company name
                            email:
                              type: string
                              example: null
                            phone:
                              type: string
                              example: +1 123 456 7890
                            website:
                              type: string
                              example: "https://www.example.com"
                            logo:
                              type: string
                              example: "https://www.example.com/logo.png"
                            cover:
                              type: string
                              example: "https://www.example.com/cover.png"
                        services:
                          type: array
                          items:
                            type: object
                            properties:
                              _id:
                                type: string
                                example: 63a33cb60321ea2b81253140
                              name:
                                type: string
                                example: Service name
                              description:
                                type: string
                                example: Service description
                              short_description:
                                type: string
                                example: Service short description
                              image:
                                type: string
                                example: "https://www.example.com/service.png"
                        service_area:
                          type: array
                          items:
                            type: object
                            properties:
                              lat:
                                type: number
                                example: 40.7128
                              lng:
                                type: number
                                example: -74.006
                        address:
                          type: object
                          properties:
                            street:
                              type: string
                              example: 123 Main Street
                            postal_code:
                              type: string
                              example: 10001
                            city:
                              type: string
                              example: New York
                            state:
                              type: string
                              example: NY
                            country:
                              type: string
                              example: US
                  page:
                    type: integer
                    example: 1
                  limit:
                    type: integer
                    example: 10
                  total:
                    type: integer
                    example: 1
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Invalid request
                  type:
                    type: string
                    example: INVALID_REQUEST
  "/companies/{companyId}":
    get:
      tags:
        - Companies
      summary: Get company
      description: Get company by id.
      operationId: getCompany
      parameters:
        - name: companyId
          in: path
          description: Company id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 63a33cb60321ea2b81253140
                  business_profile:
                    type: object
                    properties:
                      name:
                        type: string
                        example: Company name
                      email:
                        type: string
                        example: null
                      phone:
                        type: string
                        example: +1 123 456 7890
                      website:
                        type: string
                        example: "https://www.example.com"
                      logo:
                        type: string
                        example: "https://www.example.com/logo.png"
                      cover:
                        type: string
                        example: "https://www.example.com/cover.png"
                  services:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 63a33cb60321ea2b81253140
                        name:
                          type: string
                          example: Service name
                        description:
                          type: string
                          example: Service description
                        short_description:
                          type: string
                          example: Service short description
                        image:
                          type: string
                          example: "https://www.example.com/service.png"
                  service_area:
                    type: array
                    items:
                      type: object
                      properties:
                        lat:
                          type: number
                          example: 40.7128
                        lng:
                          type: number
                          example: -74.006
                  address:
                    type: object
                    properties:
                      street:
                        type: string
                        example: 123 Main Street
                      postal_code:
                        type: string
                        example: 10001
                      city:
                        type: string
                        example: New York
                      state:
                        type: string
                        example: NY
                      country:
                        type: string
                        example: US
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Invalid request
                  type:
                    type: string
                    example: INVALID_REQUEST
  /companies/dashboard:
    get:
      tags:
        - Companies
      summary: Get company dashboard
      description: Get company dashboard.
      operationId: getCompanyDashboard
      security:
        - jwt_context:
            - write
            - read
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  new_orders:
                    type: integer
                    example: 3
                  active_clients:
                    type: object
                    properties:
                      total:
                        type: integer
                        example: 10
                      last_month_diff_percentage:
                        type: number
                        format: float
                        example: 10
                  mrr:
                    type: object
                    properties:
                      total:
                        type: number
                        example: 1000
                      last_month_diff_percentage:
                        type: number
                        format: float
                        example: 10
                  yearly_revenues:
                    type: array
                    items:
                      type: object
                      properties:
                        year:
                          type: integer
                          example: 2023
                        data:
                          type: array
                          items:
                            type: object
                            properties:
                              month:
                                type: number
                                example: 1
                              total:
                                type: number
                                example: 5000
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  /companies/orders:
    get:
      tags:
        - Companies
      summary: Get company orders
      description: Get company orders.
      operationId: getCompanyOrders
      security:
        - jwt_context:
            - write
            - read
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    _id:
                      type: string
                      example: 5e1f9b9b9b9b9b9b9b9b9b9b
                    company:
                      type: string
                      example: 5f7f9f9f9f9f9f9f9f9f9f9f
                    caregiver:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 5f7f9f9f9f9f9f9f9f9f9f9f
                        name:
                          type: string
                          example: Caregiver name
                        email:
                          type: string
                          example: name@domain.com
                        phone:
                          type: string
                          example: 123456789
                        birthdate:
                          type: string
                          format: date
                          example: 2023-02-01T00:00:00.000Z
                        gender:
                          type: string
                          example: male
                        profile_picture:
                          type: string
                          example: "https://www.google.com"
                        company:
                          type: string
                          example: 5f7f9f9f9f9f9f9f9f9f9f9f
                        services:
                          type: array
                          items:
                            type: object
                            properties:
                              _id:
                                type: string
                                example: 5f7f9f9f9f9f9f9f9f9f9f9f
                              name:
                                type: string
                                example: Service name
                              description:
                                type: string
                                example: Service description
                              short_description:
                                type: string
                                example: Service short description
                              image:
                                type: string
                                example: "https://www.google.com"
                        address:
                          type: object
                          properties:
                            street:
                              type: string
                              example: Street
                            postal_code:
                              type: string
                              example: 1234-567
                            city:
                              type: string
                              example: City
                            state:
                              type: string
                              example: State
                            country:
                              type: string
                              example: PT
                            coordinates:
                              type: object
                              properties:
                                latitude:
                                  type: number
                                  example: 123.123
                                longitude:
                                  type: number
                                  example: 123.123
                    user:
                      type: object
                      properties:
                        name:
                          type: string
                          example: User name
                        email:
                          type: string
                          example: name@domain.com
                        phone:
                          type: string
                          example: 123456789
                        birthdate:
                          type: string
                          format: date
                          example: 2023-02-01T00:00:00.000Z
                        gender:
                          type: string
                          example: male
                    relative:
                      type: object
                      properties:
                        name:
                          type: string
                          example: Relative name
                        kinship:
                          type: object
                          properties:
                            to:
                              type: string
                              example: father
                            from:
                              type: string
                              example: son
                        birthdate:
                          type: string
                          format: date
                          example: 2023-02-01T00:00:00.000Z
                        gender:
                          type: string
                          example: male
                        medical_conditions:
                          type: array
                          items:
                            type: string
                            example: Diabetes
                        address:
                          type: object
                          properties:
                            street:
                              type: string
                              example: Street
                            postal_code:
                              type: string
                              example: 1234-567
                            city:
                              type: string
                              example: City
                            state:
                              type: string
                              example: State
                            country:
                              type: string
                              example: PT
                            coordinates:
                              type: object
                              properties:
                                latitude:
                                  type: number
                                  example: 123.123
                                longitude:
                                  type: number
                                  example: 123.123
                    status:
                      type: string
                      example: new
                    order_total:
                      type: number
                      example: 100
                    services:
                      type: array
                      items:
                        type: object
                        properties:
                          _id:
                            type: string
                            example: 5f7f9f9f9f9f9f9f9f9f9f9f
                          name:
                            type: string
                            example: Service name
                          description:
                            type: string
                            example: Service description
                          short_description:
                            type: string
                            example: Service short description
                          image:
                            type: string
                            example: "https://www.google.com"
                    schedule_information:
                      type: object
                      properties:
                        start_date:
                          type: date
                          example: 2020-10-10T00:00:00.000Z
                        end_date:
                          type: date
                          example: null
                        reccurency_type:
                          type: number
                          example: 1
                        schedule:
                          type: array
                          items:
                            type: object
                            properties:
                              week_day:
                                type: number
                                example: 1
                              start:
                                type: date
                                example: 2020-10-10T00:00:00.000Z
                              end:
                                type: date
                                example: 2020-10-10T00:00:00.000Z
                    address:
                      type: object
                      properties:
                        street:
                          type: string
                          example: Street
                        postal_code:
                          type: string
                          example: 1234-567
                        city:
                          type: string
                          example: City
                        state:
                          type: string
                          example: State
                        country:
                          type: string
                          example: PT
                        coordinates:
                          type: object
                          properties:
                            latitude:
                              type: number
                              example: 123.123
                            longitude:
                              type: number
                              example: 123.123
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
    post:
      tags:
        - Companies
      summary: Create company order
      description: Create company order.
      operationId: createCompanyOrder
      security:
        - jwt_context:
            - write
            - read
      requestBody:
        description: Create order.
        content:
          application/json:
            schema:
              type: object
              properties:
                user:
                  type: object
                  properties:
                    name:
                      type: string
                      example: User name
                    email:
                      type: string
                      example: name@domain.com
                    phone:
                      type: string
                      example: 123456789
                    gender:
                      type: string
                      example: male
                relative:
                  type: object
                  properties:
                    name:
                      type: string
                      example: Relative name
                    kinship:
                      type: object
                      properties:
                        to:
                          type: string
                          example: father
                        from:
                          type: string
                          example: son
                    birthdate:
                      type: string
                      format: date
                      example: 2023-02-01T15:36:03.939Z
                    gender:
                      type: string
                      example: male
                    medical_conditions:
                      type: array
                      items:
                        type: string
                        example: Diabetes
                    address:
                      type: object
                      properties:
                        street:
                          type: string
                          example: Street
                        postal_code:
                          type: string
                          example: 1234-567
                        city:
                          type: string
                          example: City
                        state:
                          type: string
                          example: State
                        country:
                          type: string
                          example: PT
                        coordinates:
                          type: object
                          properties:
                            latitude:
                              type: number
                              example: 123.123
                            longitude:
                              type: number
                              example: 123.123
                caregiver:
                  type: string
                  example: 5f7f9f9f9f9f9f9f9f9f9f9f
                services:
                  type: array
                  items:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                schedule_information:
                  type: object
                  properties:
                    start_date:
                      type: date
                      example: 2020-10-10T00:00:00.000Z
                    end_date:
                      type: date
                      example: null
                    reccurency_type:
                      type: number
                      example: 1
                    schedule:
                      type: array
                      items:
                        type: object
                        properties:
                          week_day:
                            type: number
                            example: 1
                          start:
                            type: date
                            example: 2020-10-10T00:00:00.000Z
                          end:
                            type: date
                            example: 2020-10-10T00:00:00.000Z
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 5e1f9b9b9b9b9b9b9b9b9b9b
                  company:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  caregiver:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 5f7f9f9f9f9f9f9f9f9f9f9f
                      name:
                        type: string
                        example: Caregiver name
                      email:
                        type: string
                        example: name@domain.com
                      phone:
                        type: string
                        example: 123456789
                      birthdate:
                        type: string
                        format: date
                        example: 2023-02-01T00:00:00.000Z
                      gender:
                        type: string
                        example: male
                      profile_picture:
                        type: string
                        example: "https://www.google.com"
                      company:
                        type: string
                        example: 5f7f9f9f9f9f9f9f9f9f9f9f
                      services:
                        type: array
                        items:
                          type: object
                          properties:
                            _id:
                              type: string
                              example: 5f7f9f9f9f9f9f9f9f9f9f9f
                            name:
                              type: string
                              example: Service name
                            description:
                              type: string
                              example: Service description
                            short_description:
                              type: string
                              example: Service short description
                            image:
                              type: string
                              example: "https://www.google.com"
                      address:
                        type: object
                        properties:
                          street:
                            type: string
                            example: Street
                          postal_code:
                            type: string
                            example: 1234-567
                          city:
                            type: string
                            example: City
                          state:
                            type: string
                            example: State
                          country:
                            type: string
                            example: PT
                          coordinates:
                            type: object
                            properties:
                              latitude:
                                type: number
                                example: 123.123
                              longitude:
                                type: number
                                example: 123.123
                  user:
                    type: object
                    properties:
                      name:
                        type: string
                        example: User name
                      email:
                        type: string
                        example: name@domain.com
                      phone:
                        type: string
                        example: 123456789
                      birthdate:
                        type: string
                        format: date
                        example: 2023-02-01T00:00:00.000Z
                      gender:
                        type: string
                        example: male
                  relative:
                    type: object
                    properties:
                      name:
                        type: string
                        example: Relative name
                      kinship:
                        type: object
                        properties:
                          to:
                            type: string
                            example: father
                          from:
                            type: string
                            example: son
                      birthdate:
                        type: string
                        format: date
                        example: 2023-02-01T00:00:00.000Z
                      gender:
                        type: string
                        example: male
                      medical_conditions: null
                      type: array
                      items:
                        type: string
                        example: Diabetes
                      address:
                        type: object
                        properties:
                          street:
                            type: string
                            example: Street
                          postal_code:
                            type: string
                            example: 1234-567
                          city:
                            type: string
                            example: City
                          state:
                            type: string
                            example: State
                          country:
                            type: string
                            example: PT
                          coordinates:
                            type: object
                            properties:
                              latitude:
                                type: number
                                example: 123.123
                              longitude:
                                type: number
                                example: 123.123
                  status:
                    type: string
                    example: new
                  order_total:
                    type: number
                    example: 100
                  services:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 5f7f9f9f9f9f9f9f9f9f9f9f
                        name:
                          type: string
                          example: Service name
                        description:
                          type: string
                          example: Service description
                        short_description:
                          type: string
                          example: Service short description
                        image:
                          type: string
                          example: "https://www.google.com"
                  schedule_information:
                    type: object
                    properties:
                      start_date:
                        type: date
                        example: 2020-10-10T00:00:00.000Z
                      end_date:
                        type: date
                        example: null
                      reccurency_type:
                        type: number
                        example: 1
                      schedule:
                        type: array
                        items:
                          type: object
                          properties:
                            week_day:
                              type: number
                              example: 1
                            start:
                              type: date
                              example: 2020-10-10T00:00:00.000Z
                            end:
                              type: date
                              example: 2020-10-10T00:00:00.000Z
                  address:
                    type: object
                    properties:
                      street:
                        type: string
                        example: Street
                      postal_code:
                        type: string
                        example: 1234-567
                      city:
                        type: string
                        example: City
                      state:
                        type: string
                        example: State
                      country:
                        type: string
                        example: PT
                      coordinates:
                        type: object
                        properties:
                          latitude:
                            type: number
                            example: 123.123
                          longitude:
                            type: number
                            example: 123.123
          application/json:
            schema:
              type: object
              properties:
                user: null
                relative: null
                services:
                  type: array
                  items:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                schedule_information:
                  type: object
                  properties:
                    start_date:
                      type: date
                      example: 2020-10-10T00:00:00.000Z
                    end_date:
                      type: date
                      example: null
                    reccurency_type:
                      type: number
                      example: 1
                    schedule:
                      type: array
                      items:
                        type: object
                        properties:
                          week_day:
                            type: number
                            example: 1
                          start:
                            type: date
                            example: 2020-10-10T00:00:00.000Z
                          end:
                            type: date
                            example: 2020-10-10T00:00:00.000Z
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  "/companies/orders/{orderId}":
    get:
      tags:
        - Companies
      summary: Get company order
      description: Get company order by id.
      operationId: getCompanyOrder
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: orderId
          in: path
          description: Order id
          required: true
          schema:
            type: string
          example: 5e1f9b9b9b9b9b9b9b9b9b9b
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 5e1f9b9b9b9b9b9b9b9b9b9b
                  company:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  caregiver:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 5f7f9f9f9f9f9f9f9f9f9f9f
                      name:
                        type: string
                        example: Caregiver name
                      email:
                        type: string
                        example: name@domain.com
                      phone:
                        type: string
                        example: 123456789
                      birthdate:
                        type: string
                        format: date
                        example: 2023-02-01T00:00:00.000Z
                      gender:
                        type: string
                        example: male
                      profile_picture:
                        type: string
                        example: "https://www.google.com"
                      company:
                        type: string
                        example: 5f7f9f9f9f9f9f9f9f9f9f9f
                      services:
                        type: array
                        items:
                          type: object
                          properties:
                            _id:
                              type: string
                              example: 5f7f9f9f9f9f9f9f9f9f9f9f
                            name:
                              type: string
                              example: Service name
                            description:
                              type: string
                              example: Service description
                            short_description:
                              type: string
                              example: Service short description
                            image:
                              type: string
                              example: "https://www.google.com"
                      address:
                        type: object
                        properties:
                          street:
                            type: string
                            example: Street
                          postal_code:
                            type: string
                            example: 1234-567
                          city:
                            type: string
                            example: City
                          state:
                            type: string
                            example: State
                          country:
                            type: string
                            example: PT
                          coordinates:
                            type: object
                            properties:
                              latitude:
                                type: number
                                example: 123.123
                              longitude:
                                type: number
                                example: 123.123
                  user:
                    type: object
                    properties:
                      name:
                        type: string
                        example: User name
                      email:
                        type: string
                        example: name@domain.com
                      phone:
                        type: string
                        example: 123456789
                      birthdate:
                        type: string
                        format: date
                        example: 2023-02-01T00:00:00.000Z
                      gender:
                        type: string
                        example: male
                  relative:
                    type: object
                    properties:
                      name:
                        type: string
                        example: Relative name
                      kinship:
                        type: object
                        properties:
                          to:
                            type: string
                            example: father
                          from:
                            type: string
                            example: son
                      birthdate:
                        type: string
                        format: date
                        example: 2023-02-01T00:00:00.000Z
                      gender:
                        type: string
                        example: male
                      medical_conditions: null
                      type: array
                      items:
                        type: string
                        example: Diabetes
                      address:
                        type: object
                        properties:
                          street:
                            type: string
                            example: Street
                          postal_code:
                            type: string
                            example: 1234-567
                          city:
                            type: string
                            example: City
                          state:
                            type: string
                            example: State
                          country:
                            type: string
                            example: PT
                          coordinates:
                            type: object
                            properties:
                              latitude:
                                type: number
                                example: 123.123
                              longitude:
                                type: number
                                example: 123.123
                  status:
                    type: string
                    example: new
                  order_total:
                    type: number
                    example: 100
                  services:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 5f7f9f9f9f9f9f9f9f9f9f9f
                        name:
                          type: string
                          example: Service name
                        description:
                          type: string
                          example: Service description
                        short_description:
                          type: string
                          example: Service short description
                        image:
                          type: string
                          example: "https://www.google.com"
                  schedule_information:
                    type: object
                    properties:
                      start_date:
                        type: date
                        example: 2020-10-10T00:00:00.000Z
                      end_date:
                        type: date
                        example: null
                      reccurency_type:
                        type: number
                        example: 1
                      schedule:
                        type: array
                        items:
                          type: object
                          properties:
                            week_day:
                              type: number
                              example: 1
                            start:
                              type: date
                              example: 2020-10-10T00:00:00.000Z
                            end:
                              type: date
                              example: 2020-10-10T00:00:00.000Z
                  address:
                    type: object
                    properties:
                      street:
                        type: string
                        example: Street
                      postal_code:
                        type: string
                        example: 1234-567
                      city:
                        type: string
                        example: City
                      state:
                        type: string
                        example: State
                      country:
                        type: string
                        example: PT
                      coordinates:
                        type: object
                        properties:
                          latitude:
                            type: number
                            example: 123.123
                          longitude:
                            type: number
                            example: 123.123
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
    put:
      tags:
        - Companies
      summary: Update company order
      description: Update company order by id.
      operationId: updateCompanyOrder
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: orderId
          in: path
          description: Order id
          required: true
          schema:
            type: string
          example: 5e1f9b9b9b9b9b9b9b9b9b9b
      requestBody:
        description: Order object that needs to be updated
        content:
          application/json:
            schema:
              type: object
              properties:
                order_total:
                  type: number
                  example: 2000
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 5e1f9b9b9b9b9b9b9b9b9b9b
                  company:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  caregiver:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 5f7f9f9f9f9f9f9f9f9f9f9f
                      name:
                        type: string
                        example: Caregiver name
                      email:
                        type: string
                        example: name@domain.com
                      phone:
                        type: string
                        example: 123456789
                      birthdate:
                        type: string
                        format: date
                        example: 2023-02-01T00:00:00.000Z
                      gender:
                        type: string
                        example: male
                      profile_picture:
                        type: string
                        example: "https://www.google.com"
                      company:
                        type: string
                        example: 5f7f9f9f9f9f9f9f9f9f9f9f
                      services:
                        type: array
                        items:
                          type: object
                          properties:
                            _id:
                              type: string
                              example: 5f7f9f9f9f9f9f9f9f9f9f9f
                            name:
                              type: string
                              example: Service name
                            description:
                              type: string
                              example: Service description
                            short_description:
                              type: string
                              example: Service short description
                            image:
                              type: string
                              example: "https://www.google.com"
                      address:
                        type: object
                        properties:
                          street:
                            type: string
                            example: Street
                          postal_code:
                            type: string
                            example: 1234-567
                          city:
                            type: string
                            example: City
                          state:
                            type: string
                            example: State
                          country:
                            type: string
                            example: PT
                          coordinates:
                            type: object
                            properties:
                              latitude:
                                type: number
                                example: 123.123
                              longitude:
                                type: number
                                example: 123.123
                  user:
                    type: object
                    properties:
                      name:
                        type: string
                        example: User name
                      email:
                        type: string
                        example: name@domain.com
                      phone:
                        type: string
                        example: 123456789
                      birthdate:
                        type: string
                        format: date
                        example: 2023-02-01T00:00:00.000Z
                      gender:
                        type: string
                        example: male
                  relative:
                    type: object
                    properties:
                      name:
                        type: string
                        example: Relative name
                      kinship:
                        type: object
                        properties:
                          to:
                            type: string
                            example: father
                          from:
                            type: string
                            example: son
                      birthdate:
                        type: string
                        format: date
                        example: 2023-02-01T00:00:00.000Z
                      gender:
                        type: string
                        example: male
                      medical_conditions: null
                      type: array
                      items:
                        type: string
                        example: Diabetes
                      address:
                        type: object
                        properties:
                          street:
                            type: string
                            example: Street
                          postal_code:
                            type: string
                            example: 1234-567
                          city:
                            type: string
                            example: City
                          state:
                            type: string
                            example: State
                          country:
                            type: string
                            example: PT
                          coordinates:
                            type: object
                            properties:
                              latitude:
                                type: number
                                example: 123.123
                              longitude:
                                type: number
                                example: 123.123
                  status:
                    type: string
                    example: new
                  order_total:
                    type: number
                    example: 2000
                  services:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 5f7f9f9f9f9f9f9f9f9f9f9f
                        name:
                          type: string
                          example: Service name
                        description:
                          type: string
                          example: Service description
                        short_description:
                          type: string
                          example: Service short description
                        image:
                          type: string
                          example: "https://www.google.com"
                  schedule_information:
                    type: object
                    properties:
                      start_date:
                        type: date
                        example: 2020-10-10T00:00:00.000Z
                      end_date:
                        type: date
                        example: null
                      reccurency_type:
                        type: number
                        example: 1
                      schedule:
                        type: array
                        items:
                          type: object
                          properties:
                            week_day:
                              type: number
                              example: 1
                            start:
                              type: date
                              example: 2020-10-10T00:00:00.000Z
                            end:
                              type: date
                              example: 2020-10-10T00:00:00.000Z
                  address:
                    type: object
                    properties:
                      street:
                        type: string
                        example: Street
                      postal_code:
                        type: string
                        example: 1234-567
                      city:
                        type: string
                        example: City
                      state:
                        type: string
                        example: State
                      country:
                        type: string
                        example: PT
                      coordinates:
                        type: object
                        properties:
                          latitude:
                            type: number
                            example: 123.123
                          longitude:
                            type: number
                            example: 123.123
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
    delete:
      tags:
        - Companies
      summary: Delete company order
      description: >-
        Delete company order by id. This only works for orders that were created
        by the company. Orders that were created by the user (from the
        Marketplace) can only be declined by using the
        '/companies/orders/{orderId}/decline' endpoint.
      operationId: deleteCompanyOrder
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: orderId
          in: path
          description: Order id
          required: true
          schema:
            type: string
          example: f9f9f9f9f9f9f9f9f9f9f9f9
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  deleted:
                    type: boolean
                    example: true
                  deleted_document:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 5e1f9b9b9b9b9b9b9b9b9b9b
                      company:
                        type: string
                        example: 5f7f9f9f9f9f9f9f9f9f9f9f
                      caregiver:
                        type: object
                        properties:
                          _id:
                            type: string
                            example: 5f7f9f9f9f9f9f9f9f9f9f9f
                          name:
                            type: string
                            example: Caregiver name
                          email:
                            type: string
                            example: name@domain.com
                          phone:
                            type: string
                            example: 123456789
                          birthdate:
                            type: string
                            format: date
                            example: 2023-02-01T00:00:00.000Z
                          gender:
                            type: string
                            example: male
                          profile_picture:
                            type: string
                            example: "https://www.google.com"
                          company:
                            type: string
                            example: 5f7f9f9f9f9f9f9f9f9f9f9f
                          services:
                            type: array
                            items:
                              type: object
                              properties:
                                _id:
                                  type: string
                                  example: 5f7f9f9f9f9f9f9f9f9f9f9f
                                name:
                                  type: string
                                  example: Service name
                                description:
                                  type: string
                                  example: Service description
                                short_description:
                                  type: string
                                  example: Service short description
                                image:
                                  type: string
                                  example: "https://www.google.com"
                          address:
                            type: object
                            properties:
                              street:
                                type: string
                                example: Street
                              postal_code:
                                type: string
                                example: 1234-567
                              city:
                                type: string
                                example: City
                              state:
                                type: string
                                example: State
                              country:
                                type: string
                                example: PT
                              coordinates:
                                type: object
                                properties:
                                  latitude:
                                    type: number
                                    example: 123.123
                                  longitude:
                                    type: number
                                    example: 123.123
                      user:
                        type: object
                        properties:
                          name:
                            type: string
                            example: User name
                          email:
                            type: string
                            example: name@domain.com
                          phone:
                            type: string
                            example: 123456789
                          birthdate:
                            type: string
                            format: date
                            example: 2023-02-01T00:00:00.000Z
                          gender:
                            type: string
                            example: male
                      relative:
                        type: object
                        properties:
                          name:
                            type: string
                            example: Relative name
                          kinship:
                            type: object
                            properties:
                              to:
                                type: string
                                example: father
                              from:
                                type: string
                                example: son
                          birthdate:
                            type: string
                            format: date
                            example: 2023-02-01T00:00:00.000Z
                          gender:
                            type: string
                            example: male
                          medical_conditions:
                            type: array
                            items:
                              type: string
                              example: Diabetes
                          address:
                            type: object
                            properties:
                              street:
                                type: string
                                example: Street
                              postal_code:
                                type: string
                                example: 1234-567
                              city:
                                type: string
                                example: City
                              state:
                                type: string
                                example: State
                              country:
                                type: string
                                example: PT
                              coordinates:
                                type: object
                                properties:
                                  latitude:
                                    type: number
                                    example: 123.123
                                  longitude:
                                    type: number
                                    example: 123.123
                      status:
                        type: string
                        example: new
                      order_total:
                        type: number
                        example: 100
                      services:
                        type: array
                        items:
                          type: object
                          properties:
                            _id:
                              type: string
                              example: 5f7f9f9f9f9f9f9f9f9f9f9f
                            name:
                              type: string
                              example: Service name
                            description:
                              type: string
                              example: Service description
                            short_description:
                              type: string
                              example: Service short description
                            image:
                              type: string
                              example: "https://www.google.com"
                      schedule_information:
                        type: object
                        properties:
                          start_date:
                            type: date
                            example: 2020-10-10T00:00:00.000Z
                          end_date:
                            type: date
                            example: null
                          reccurency_type:
                            type: number
                            example: 1
                          schedule:
                            type: array
                            items:
                              type: object
                              properties:
                                week_day:
                                  type: number
                                  example: 1
                                start:
                                  type: date
                                  example: 2020-10-10T00:00:00.000Z
                                end:
                                  type: date
                                  example: 2020-10-10T00:00:00.000Z
                      address:
                        type: object
                        properties:
                          street:
                            type: string
                            example: Street
                          postal_code:
                            type: string
                            example: 1234-567
                          city:
                            type: string
                            example: City
                          state:
                            type: string
                            example: State
                          country:
                            type: string
                            example: PT
                          coordinates:
                            type: object
                            properties:
                              latitude:
                                type: number
                                example: 123.123
                              longitude:
                                type: number
                                example: 123.123
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  "/companies/orders/{orderId}/decline":
    post:
      tags:
        - Companies
      summary: Reject order
      description: Reject order by id.
      operationId: rejectOrder
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: orderId
          in: path
          description: Order id
          required: true
          schema:
            type: string
          example: 5e1f9b9b9b9b9b9b9b9b9b9b
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  company:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  user:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  relative:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  status:
                    type: string
                    example: declined
                  services:
                    type: array
                    items:
                      $ref: "#/components/schemas/Service"
                  schedule_information:
                    type: object
                    properties:
                      start_date:
                        type: date
                        example: 2020-10-10T00:00:00.000Z
                      end_date:
                        type: date
                        example: null
                      reccurency_type:
                        type: number
                        example: 1
                      schedule:
                        type: array
                        items:
                          type: object
                          properties:
                            week_day:
                              type: number
                              example: 1
                            start:
                              type: date
                              example: 2020-10-10T00:00:00.000Z
                            end:
                              type: date
                              example: 2020-10-10T00:00:00.000Z
                  address:
                    type: object
                    properties:
                      street:
                        type: string
                        example: 123 Main St
                      city:
                        type: string
                        example: New York
                      postal_code:
                        type: string
                        example: 1234-567
                      state:
                        type: string
                        example: NY
                      zip:
                        type: string
                        example: 10001
                      country:
                        type: string
                        example: US
                      coordinates:
                        type: object
                        properties:
                          latitute:
                            type: number
                            example: 38.736946
                          longitude:
                            type: number
                            example: -9.142685
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  "/companies/orders/{orderId}/accept":
    post:
      tags:
        - Companies
      summary: Accept order
      description: Accept order by id.
      operationId: acceptOrder
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: orderId
          in: path
          description: Order id
          required: true
          schema:
            type: string
          example: 5e1f9b9b9b9b9b9b9b9b9b9b
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  event_series:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 5f7f9f9f9f9f9f9f9f9f9f9f
                      user: null
                      company:
                        type: string
                        example: 5f7f9f9f9f9f9f9f9f9f9f9f
                      recurrence:
                        type: number
                        example: 1
                      schedule:
                        type: array
                        items:
                          type: object
                          properties:
                            week_day:
                              type: number
                              example: 1
                            start:
                              type: date
                              example: 2020-10-10T00:00:00.000Z
                            end:
                              type: date
                              example: 2020-10-10T00:00:00.000Z
                      end_series:
                        type: object
                        properties:
                          ending_type:
                            type: number
                            example: 0
                          end_date:
                            type: date
                            example: null
                          end_occurrences:
                            type: number
                            example: null
                  order:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 5f7f9f9f9f9f9f9f9f9f9f9f
                      company:
                        type: string
                        example: 5f7f9f9f9f9f9f9f9f9f9f9f
                      user:
                        type: string
                        example: 5f7f9f9f9f9f9f9f9f9f9f9f
                      relative:
                        type: string
                        example: 5f7f9f9f9f9f9f9f9f9f9f9f
                      status:
                        type: string
                        example: accepted
                      services:
                        type: array
                        items:
                          $ref: "#/components/schemas/Service"
                      schedule_information:
                        type: object
                        properties:
                          start_date:
                            type: date
                            example: 2020-10-10T00:00:00.000Z
                          end_date:
                            type: date
                            example: null
                          reccurency_type:
                            type: number
                            example: 1
                          schedule:
                            type: array
                            items:
                              type: object
                              properties:
                                week_day:
                                  type: number
                                  example: 1
                                start:
                                  type: date
                                  example: 2020-10-10T00:00:00.000Z
                                end:
                                  type: date
                                  example: 2020-10-10T00:00:00.000Z
                      address:
                        type: object
                        properties:
                          street:
                            type: string
                            example: 123 Main St
                          city:
                            type: string
                            example: New York
                          postal_code:
                            type: string
                            example: 1234-567
                          state:
                            type: string
                            example: NY
                          zip:
                            type: string
                            example: 10001
                          country:
                            type: string
                            example: US
                        coordinates:
                          type: object
                          properties:
                            latitute:
                              type: number
                              example: 38.736946
                            longitude:
                              type: number
                              example: -9.142685
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  "/companies/orders/{orderId}/send-quote":
    post:
      tags:
        - Companies
      summary: Send quote
      description: Send quote by id.
      operationId: sendQuote
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: orderId
          in: path
          description: Order id
          required: true
          schema:
            type: string
          example: 5e1f9b9b9b9b9b9b9b9b9b9b
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  company:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  user:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  relative:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  status:
                    type: string
                    example: payment_new
                  services:
                    type: array
                    items:
                      $ref: "#/components/schemas/Service"
                  schedule_information:
                    type: object
                    properties:
                      start_date:
                        type: date
                        example: 2020-10-10T00:00:00.000Z
                      end_date:
                        type: date
                        example: null
                      reccurency_type:
                        type: number
                        example: 1
                      schedule:
                        type: array
                        items:
                          type: object
                          properties:
                            week_day:
                              type: number
                              example: 1
                            start:
                              type: date
                              example: 2020-10-10T00:00:00.000Z
                            end:
                              type: date
                              example: 2020-10-10T00:00:00.000Z
                  address:
                    type: object
                    properties:
                      street:
                        type: string
                        example: 123 Main St
                      city:
                        type: string
                        example: New York
                      postal_code:
                        type: string
                        example: 1234-567
                      state:
                        type: string
                        example: NY
                      zip:
                        type: string
                        example: 10001
                      country:
                        type: string
                        example: US
                      coordinates:
                        type: object
                        properties:
                          latitute:
                            type: number
                            example: 38.736946
                          longitude:
                            type: number
                            example: -9.142685
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  "/companies/orders/{orderId}/schedule-visit":
    post:
      tags:
        - Companies
      summary: Schedule visit
      description: Schedule visit by id.
      operationId: scheduleVisit
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: orderId
          in: path
          description: Order id
          required: true
          schema:
            type: string
          example: 5e1f9b9b9b9b9b9b9b9b9b9b
      requestBody:
        description: Create Event.
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  example: Event 1
                description:
                  type: string
                  example: Event 1 description
                start:
                  type: date
                  example: 2020-03-25T00:00:00.000Z
                end:
                  type: date
                  example: 2020-03-25T00:00:00.000Z
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  company:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  user:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  relative:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  status:
                    type: string
                    example: accepted
                  services:
                    type: array
                    items:
                      $ref: "#/components/schemas/Service"
                  schedule_information:
                    type: object
                    properties:
                      start_date:
                        type: date
                        example: 2020-10-10T00:00:00.000Z
                      end_date:
                        type: date
                        example: null
                      reccurency_type:
                        type: number
                        example: 1
                      schedule:
                        type: array
                        items:
                          type: object
                          properties:
                            week_day:
                              type: number
                              example: 1
                            start:
                              type: date
                              example: 2020-10-10T00:00:00.000Z
                            end:
                              type: date
                              example: 2020-10-10T00:00:00.000Z
                  address:
                    type: object
                    properties:
                      street:
                        type: string
                        example: 123 Main St
                      city:
                        type: string
                        example: New York
                      postal_code:
                        type: string
                        example: 1234-567
                      state:
                        type: string
                        example: NY
                      zip:
                        type: string
                        example: 10001
                      country:
                        type: string
                        example: US
                      coordinates:
                        type: object
                        properties:
                          latitute:
                            type: number
                            example: 38.736946
                          longitude:
                            type: number
                            example: -9.142685
                  screening_visit:
                    type: object
                    properties:
                      user: null
                      company:
                        type: string
                        example: 5f7f9f9f9f9f9f9f9f9f9f9f
                      title:
                        type: string
                        example: Screening Visit
                      description:
                        type: string
                        example: Screening Visit description
                      start:
                        type: date
                        example: 2020-03-25T00:00:00.000Z
                      end:
                        type: date
                        example: 2020-03-25T00:00:00.000Z
                      allDay:
                        type: boolean
                        example: false
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  /companies/users:
    get:
      tags:
        - Companies
      summary: Get company users
      description: Get company users.
      operationId: getCompanyUsers
      security:
        - jwt_context:
            - write
            - read
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    _id:
                      type: string
                      example: 5e1f9b9b9b9b9b9b9b9b9b9b
                    name:
                      type: string
                      example: John Doe
                    email:
                      type: string
                      example: name@domain.com
                    phone:
                      type: string
                      example: 123456789
                    birthdate:
                      type: date
                      example: 2023-01-30T00:00:00.000Z
                    gender:
                      type: string
                      example: male
                    profile_picture:
                      type: string
                      example: >-
                        https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50
                    company:
                      type: string
                      example: 5e1f9b9b9b9b9b9b9b9b9b9b
                    address:
                      type: object
                      properties:
                        street:
                          type: string
                          example: 123 Main St
                        postal_code:
                          type: string
                          example: 1234-567
                        city:
                          type: string
                          example: New York
                        state:
                          type: string
                          example: NY
                        country:
                          type: string
                          example: US
                        coordinates:
                          type: object
                          properties:
                            latitute:
                              type: number
                              example: 38.736946
                            longitude:
                              type: number
                              example: -9.142685
                    role:
                      type: string
                      example: technical_direction
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
    post:
      tags:
        - Companies
      summary: Create company user
      description: Create company user.
      operationId: createCompanyUser
      security:
        - jwt_context:
            - write
            - read
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: John Doe
                email:
                  type: string
                  example: name@domain.com
                phone:
                  type: string
                  example: 123456789
                birthdate:
                  type: date
                  example: 2023-01-30T00:00:00.000Z
                gender:
                  type: string
                  example: male
                profile_picture:
                  type: string
                  example: >-
                    https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50
                address:
                  type: object
                  properties:
                    street:
                      type: string
                      example: 123 Main St
                    postal_code:
                      type: string
                      example: 1234-567
                    city:
                      type: string
                      example: New York
                    state:
                      type: string
                      example: NY
                    country:
                      type: string
                      example: US
                role:
                  type: string
                  example: technical_direction
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 5e1f9b9b9b9b9b9b9b9b9b9b
                  name:
                    type: string
                    example: John Doe
                  email:
                    type: string
                    example: name@domain.com
                  phone:
                    type: string
                    example: 123456789
                  birthdate:
                    type: date
                    example: 2023-01-30T00:00:00.000Z
                  gender:
                    type: string
                    example: male
                  profile_picture:
                    type: string
                    example: >-
                      https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50
                  company:
                    type: string
                    example: 5e1f9b9b9b9b9b9b9b9b9b9b
                  address:
                    type: object
                    properties:
                      street:
                        type: string
                        example: 123 Main St
                      postal_code:
                        type: string
                        example: 1234-567
                      city:
                        type: string
                        example: New York
                      state:
                        type: string
                        example: NY
                      country:
                        type: string
                        example: US
                      coordinates:
                        type: object
                        properties:
                          latitute:
                            type: number
                            example: 38.736946
                          longitude:
                            type: number
                            example: -9.142685
                  role:
                    type: string
                    example: technical_direction
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  "/companies/users/{userId}":
    get:
      tags:
        - Companies
      summary: Get company user
      description: Get company user by id.
      operationId: getCompanyUser
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: userId
          in: path
          description: User id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 5e1f9b9b9b9b9b9b9b9b9b9b
                  name:
                    type: string
                    example: John Doe
                  email:
                    type: string
                    example: name@domain.com
                  phone:
                    type: string
                    example: 123456789
                  birthdate:
                    type: date
                    example: 2023-01-30T00:00:00.000Z
                  gender:
                    type: string
                    example: male
                  profile_picture:
                    type: string
                    example: >-
                      https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50
                  company:
                    type: string
                    example: 5e1f9b9b9b9b9b9b9b9b9b9b
                  address:
                    type: object
                    properties:
                      street:
                        type: string
                        example: 123 Main St
                      postal_code:
                        type: string
                        example: 1234-567
                      city:
                        type: string
                        example: New York
                      state:
                        type: string
                        example: NY
                      country:
                        type: string
                        example: US
                      coordinates:
                        type: object
                        properties:
                          latitute:
                            type: number
                            example: 38.736946
                          longitude:
                            type: number
                            example: -9.142685
                  role:
                    type: string
                    example: technical_direction
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
    put:
      tags:
        - Companies
      summary: Update company user
      description: Update company user by id.
      operationId: updateCompanyUser
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: userId
          in: path
          description: User id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: John Doe
                email:
                  type: string
                  example: name@domain.com
                phone:
                  type: string
                  example: 123456789
                birthdate:
                  type: date
                  example: 2023-01-30T00:00:00.000Z
                gender:
                  type: string
                  example: male
                profile_picture:
                  type: string
                  example: >-
                    https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50
                address:
                  type: object
                  properties:
                    street:
                      type: string
                      example: 123 Main St
                    postal_code:
                      type: string
                      example: 1234-567
                    city:
                      type: string
                      example: New York
                    state:
                      type: string
                      example: NY
                    country:
                      type: string
                      example: US
                role:
                  type: string
                  example: technical_direction
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 5e1f9b9b9b9b9b9b9b9b9b9b
                  name:
                    type: string
                    example: John Doe
                  email:
                    type: string
                    example: name@domain.com
                  phone:
                    type: string
                    example: 123456789
                  birthdate:
                    type: date
                    example: 2023-01-30T00:00:00.000Z
                  gender:
                    type: string
                    example: male
                  profile_picture:
                    type: string
                    example: >-
                      https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50
                  company:
                    type: string
                    example: 5e1f9b9b9b9b9b9b9b9b9b9b
                  address:
                    type: object
                    properties:
                      street:
                        type: string
                        example: 123 Main St
                      postal_code:
                        type: string
                        example: 1234-567
                      city:
                        type: string
                        example: New York
                      state:
                        type: string
                        example: NY
                      country:
                        type: string
                        example: US
                      coordinates:
                        type: object
                        properties:
                          latitute:
                            type: number
                            example: 38.736946
                          longitude:
                            type: number
                            example: -9.142685
                  role:
                    type: string
                    example: technical_direction
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
    delete:
      tags:
        - Companies
      summary: Delete company user
      description: Delete company user by id.
      operationId: deleteCompanyUser
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: userId
          in: path
          description: User id
          required: true
          schema:
            type: string
          example: f9f9f9f9f9f9f9f9f9f9f9f9
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  deleted:
                    type: boolean
                    example: true
                  deleted_document:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 5e1f9b9b9b9b9b9b9b9b9b9b
                      name:
                        type: string
                        example: John Doe
                      email:
                        type: string
                        example: name@domain.com
                      phone:
                        type: string
                        example: 123456789
                      birthdate:
                        type: date
                        example: 2023-01-30T00:00:00.000Z
                      gender:
                        type: string
                        example: male
                      profile_picture:
                        type: string
                        example: >-
                          https://www.gravatar.com/avatar/205e460b479e2e5b48aec07710c08d50
                      company:
                        type: string
                        example: 5e1f9b9b9b9b9b9b9b9b9b9b
                      address:
                        type: object
                        properties:
                          street:
                            type: string
                            example: 123 Main St
                          postal_code:
                            type: string
                            example: 1234-567
                          city:
                            type: string
                            example: New York
                          state:
                            type: string
                            example: NY
                          country:
                            type: string
                            example: US
                          coordinates:
                            type: object
                            properties:
                              latitute:
                                type: number
                                example: 38.736946
                              longitude:
                                type: number
                                example: -9.142685
                      role:
                        type: string
                        example: technical_direction
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  /companies/external-accounts:
    get:
      tags:
        - Companies
      summary: Get company external accounts
      description: Get company external accounts.
      operationId: getCompanyExternalAccounts
      security:
        - jwt_context:
            - write
            - read
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      example: ba_1F9b9b9b9b9b9b9b9b9b9b9b
                    object:
                      type: string
                      example: external_account
                    account_holder_name:
                      type: string
                      example: Holder Name
                    account_holder_type:
                      type: string
                      example: individual
                    account_type:
                      type: string
                      example: null
                    available_payout_methods:
                      type: array
                      items:
                        type: string
                        example: standard
                    bank_name:
                      type: string
                      example: Bank Name
                    country:
                      type: string
                      example: US
                    currency:
                      type: string
                      example: usd
                    default_for_currency:
                      type: boolean
                      example: false
                    last4:
                      type: string
                      example: 6789
                    metadata:
                      type: object
                      example: {}
                    routing_number:
                      type: string
                      example: 110000000
                    status:
                      type: string
                      example: new
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
    post:
      tags:
        - Companies
      summary: Create company external account
      description: >-
        Create company external account. <br>  The Company to each the external
        account is attached to is the company of the user that is extracted from
        the access token. To create an external_accoount you should provide the
        ```external_account_token```. This should either be a card token or a
        bank account token. To create a card token the Client Application needs
        to use the Stripe JS library. <br>  @see
        https://stripe.com/docs/js/tokens_sources/create_token
      operationId: createCompanyExternalAccount
      security:
        - jwt_context:
            - write
            - read
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                external_account_token:
                  type: string
                  example: tok_1F9f9f9f9f9f9f9f9f9f9f9f
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    example: ba_1F9b9b9b9b9b9b9b9b9b9b9b
                  object:
                    type: string
                    example: external_account
                  account_holder_name:
                    type: string
                    example: Holder Name
                  account_holder_type:
                    type: string
                    example: individual
                  account_type:
                    type: string
                    example: null
                  available_payout_methods:
                    type: array
                    items:
                      type: string
                      example: standard
                  bank_name:
                    type: string
                    example: Bank Name
                  country:
                    type: string
                    example: PT
                  currency:
                    type: string
                    example: eur
                  default_for_currency:
                    type: boolean
                    example: false
                  last4:
                    type: string
                    example: 1234
                  metadata:
                    type: object
                    example: {}
                  routing_number:
                    type: string
                    example: 123456789
                  status:
                    type: string
                    example: new
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  "/companies/external-accounts/{externalAccountId}":
    get:
      tags:
        - Companies
      summary: Get company external account
      description: Get company External Account by External Account Token ID.
      operationId: getCompanyExternalAccount
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: externalAccountId
          in: path
          description: External Account Token ID
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    example: ba_1F9b9b9b9b9b9b9b9b9b9b9b
                  object:
                    type: string
                    example: external_account
                  account_holder_name:
                    type: string
                    example: Holder Name
                  account_holder_type:
                    type: string
                    example: individual
                  account_type:
                    type: string
                    example: null
                  available_payout_methods:
                    type: array
                    items:
                      type: string
                      example: standard
                  bank_name:
                    type: string
                    example: Bank Name
                  country:
                    type: string
                    example: PT
                  currency:
                    type: string
                    example: eur
                  default_for_currency:
                    type: boolean
                    example: true
                  last4:
                    type: string
                    example: 1234
                  metadata:
                    type: object
                    example: {}
                  routing_number:
                    type: string
                    example: 123456789
                  status:
                    type: string
                    example: new

        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
    delete:
      tags:
        - Companies
      summary: Delete company external account
      description: Delete company external account by id.
      operationId: deleteCompanyExternalAccount
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: externalAccountId
          in: path
          description: External account id
          required: true
          schema:
            type: string
          example: f9f9f9f9f9f9f9f9f9f9f9f9
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  deleted:
                    type: boolean
                    example: true
                  object:
                    type: string
                    example: external_account
                  type:
                    type: string
                    example: bank_account
                  last4:
                    type: string
                    example: 1234
  "/checkout/orders/{orderId}":
    get:
      tags:
        - Checkout
      summary: Get order
      description: >-
        Get order information for checkout by order id. The user's payment
        methods to list on the checkout page should be retrieved from the logged
        in user object. This object is returned from the /users/account endpoint
        that should be called when the users logs in.
      operationId: getCheckoutOrder
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: orderId
          in: path
          description: Order id
          required: true
          schema:
            type: string
          example: 5e1f9b9b9b9b9b9b9b9b9b9b
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 5e1f9b9b9b9b9b9b9b9b9b9b
                  company:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  caregiver:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  user:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  relative:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  status:
                    type: string
                    example: new
                  order_total:
                    type: number
                    example: 100
                  services:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 5f7f9f9f9f9f9f9f9f9f9f9f
                        name:
                          type: string
                          example: Service name
                        description:
                          type: string
                          example: Service description
                        short_description:
                          type: string
                          example: Service short description
                        image:
                          type: string
                          example: "https://www.google.com"
                  schedule_information:
                    type: object
                    properties:
                      start_date:
                        type: date
                        example: 2020-10-10T00:00:00.000Z
                      end_date:
                        type: date
                        example: null
                      reccurency_type:
                        type: number
                        example: 1
                      schedule:
                        type: array
                        items:
                          type: object
                          properties:
                            week_day:
                              type: number
                              example: 1
                            start:
                              type: date
                              example: 2020-10-10T00:00:00.000Z
                            end:
                              type: date
                              example: 2020-10-10T00:00:00.000Z
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  "/checkout/orders/{orderId}/payment-intent":
    post:
      tags:
        - Checkout
      summary: Create payment intent
      description: >-
        Create payment intent for order.  In the request body, you should
        provide a ```payment_method_id```. This should either be a card token
        or a bank account token. <br> You can get the user's payment methods
        tokens from ```user.stripe_information.payment_methods``` (using auth
        context). If the user does not have a payment method you should use
        Stripe.js to create a card token or a bank account token with the
        payment method informations inputed by the user. @see
        https://stripe.com/docs/js/tokens_sources/create_token
      operationId: createPaymentIntent
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: orderId
          in: path
          description: Order id
          required: true
          schema:
            type: string
          example: 63d003720ea8a0ed5ce2c9ee
      requestBody:
        description: Create payment intent for order.
        content:
          application/json:
            schema:
              type: object
              properties:
                payment_method_id:
                  type: string
                  example: tok_pt
                taxId:
                  type: string
                  example: 123456789
                billing_details:
                  type: object
                  properties:
                    name:
                      type: string
                      example: Name
                    email:
                      type: string
                      example: name@domain.cpom
                    street:
                      type: string
                      example: Street
                    postal_code:
                      type: string
                      example: 12345
                    city:
                      type: string
                      example: City
                    state:
                      type: string
                      example: State
                    country:
                      type: string
                      example: Country
                promotion_code:
                  type: string
                  example: PROMO
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Order payment processed successfully.
                  order:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 5e1f9b9b9b9b9b9b9b9b9b9b
                      company:
                        type: string
                        example: 5f7f9f9f9f9f9f9f9f9f9f9f
                      caregiver:
                        type: string
                        example: 5f7f9f9f9f9f9f9f9f9f9f9f
                      user:
                        type: string
                        example: 5f7f9f9f9f9f9f9f9f9f9f9f
                      relative:
                        type: string
                        example: 5f7f9f9f9f9f9f9f9f9f9f9f
                      status:
                        type: string
                        example: active
                      order_total:
                        type: number
                        example: 100
                      services:
                        type: array
                        items:
                          type: object
                          properties:
                            _id:
                              type: string
                              example: 5f7f9f9f9f9f9f9f9f9f9f9f
                            name:
                              type: string
                              example: Service name
                            description:
                              type: string
                              example: Service description
                            short_description:
                              type: string
                              example: Service short description
                            image:
                              type: string
                              example: "https://www.google.com"
                      schedule_information:
                        type: object
                        properties:
                          start_date:
                            type: date
                            example: 2020-10-10T00:00:00.000Z
                          end_date:
                            type: date
                            example: null
                          reccurency_type:
                            type: number
                            example: 1
                          schedule:
                            type: array
                            items:
                              type: object
                              properties:
                                week_day:
                                  type: number
                                  example: 1
                                start:
                                  type: date
                                  example: 2020-10-10T00:00:00.000Z
                                end:
                                  type: date
                                  example: 2020-10-10T00:00:00.000Z
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  /orders:
    post:
      tags:
        - Orders
      summary: Create order
      description: >-
        Create an order. <br> The required field ```user``` of the order will be
        the ```_id``` of the current logged in user. The backend will extract
        the cognito_id from the Access Token provided on the Request Headers and
        then fetch the user through the cognito_id to get the logged in user.
        <br> The required field ```address``` of the order will be the
        ```address``` of the ```relative``` provided on the order. <br>  If the
        ```relative``` from the order contains an ObjectId that does not exist
        on the ```user.relatives``` array this endpoint will return a 400 Error.
        The same error will be returned if provided an non-existent/invalid
        ObjectId for any field (valid for ObjectId fied types). <br> The order
        will be created with the status ```new```. The order status will change
        to ```accepted``` when the company accepts the order or ```declined```if
        the company declines it. The order status will change to ```active```
        when the payment intent is processed successfully. If the payment intent
        is not processed successfully the order status will change to
        ```payment_failed```.
      operationId: createOrder
      security:
        - jwt_context:
            - write
            - read
      requestBody:
        description: Create order.
        content:
          application/json:
            schema:
              type: object
              properties:
                company:
                  type: string
                  example: 63a204a3973d8aadd5a664b0
                relative:
                  type: string
                  example: 63caaef984b6bcc1a103d913
                services:
                  type: array
                  items:
                    type: string
                    example: 63a33cb60321ea2b81253140
                schedule_information:
                  type: object
                  properties:
                    start_date:
                      type: date
                      example: 2020-10-10T00:00:00.000Z
                    end_date:
                      type: date
                      example: null
                    recurrence:
                      type: number
                      example: 1
                    schedule:
                      type: array
                      items:
                        type: object
                        properties:
                          week_day:
                            type: number
                            example: 1
                          start:
                            type: date
                            example: 2020-10-10T00:00:00.000Z
                          end:
                            type: date
                            example: 2020-10-10T00:00:00.000Z
                address:
                  type: object
                  properties:
                    street:
                      type: string
                      example: Street
                    postal_code:
                      type: string
                      example: 12345-678
                    city:
                      type: string
                      example: City
                    state:
                      type: string
                      example: State
                    country:
                      type: string
                      example: PT
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  company:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  user:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  relative:
                    type: string
                    example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  services:
                    type: array
                    items:
                      type: string
                      example: 5f7f9f9f9f9f9f9f9f9f9f9f
                  schedule_information:
                    type: object
                    properties:
                      start_date:
                        type: string
                        example: "2020-10-10T00:00:00.000Z"
                      end_date:
                        type: string
                        example: null
                      reccurency_type:
                        type: number
                        example: 1
                      schedule:
                        type: array
                        items:
                          type: object
                          properties:
                            week_day:
                              type: number
                              example: 1
                            start:
                              type: date
                              example: "2020-10-10T00:00:00.000Z"
                            end:
                              type: date
                              example: "2020-10-10T00:00:00.000Z"
                  status:
                    type: string
                    example: new
                  address:
                    type: object
                    properties:
                      street:
                        type: string
                        example: 123 Main St
                      postal_code:
                        type: string
                        example: 94111
                      city:
                        type: string
                        example: San Francisco
                      state:
                        type: string
                        example: CA
                      country:
                        type: string
                        example: US
                      coordinates:
                        type: object
                        properties:
                          latitute:
                            type: number
                            example: 38.736946
                          longitude:
                            type: number
                            example: -9.142685
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Invalid request
                  type:
                    type: string
                    example: INVALID_REQUEST
  /users/payment-methods:
    get:
      tags:
        - Users
      summary: Get all payment methods
      description: Get all payment methods for the logged in user.
      operationId: getPaymentMethods
      security:
        - jwt_context:
            - write
            - read
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      example: tok_1F9f9f9f9f9f9f9f9f9f9f9f
                    object:
                      type: string
                      example: token
                    card:
                      type: object
                      properties:
                        object:
                          type: string
                          example: payment_method
                        address_city:
                          type: string
                          example: null
                        address_country:
                          type: string
                          example: null
                        address_line1:
                          type: string
                          example: null
                        address_line1_check:
                          type: string
                          example: null
                        address_line2:
                          type: string
                          example: null
                        address_state:
                          type: string
                          example: null
                        address_zip:
                          type: string
                          example: null
                        address_zip_check:
                          type: string
                          example: null
                        brand:
                          type: string
                          example: Visa
                        country:
                          type: string
                          example: US
                        cvc_check:
                          type: string
                          example: null
                        dynamic_last4:
                          type: string
                          example: null
                        exp_month:
                          type: number
                          example: 12
                        exp_year:
                          type: number
                          example: 2022
                        funding:
                          type: string
                          example: credit
                        last4:
                          type: string
                          example: 4242
                        metadata:
                          type: object
                          properties: {}
                        name:
                          type: string
                          example: null
                        tokenization_method:
                          type: string
                          example: null
                    created:
                      type: integer
                      example: 1591234567
                    livemode:
                      type: boolean
                      example: false
                    type:
                      type: string
                      example: card
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
    post:
      tags:
        - Users
      summary: Create a payment method
      description: >-
        Create a payment method. At the moment it only supports credit/debit
        cards. The user to each the payment method is attached to is the user
        extracted from the access token. To create the payment_method_id the
        Client Application needs to use the Stripe JS library. @see
        https://stripe.com/docs/stripe-js
      operationId: createPaymentMethod
      security:
        - jwt_context:
            - write
            - read
      requestBody:
        description: Create a payment method
        content:
          application/json:
            schema:
              type: object
              properties:
                payment_method_id:
                  type: string
                  example: tok_1F9f9f9f9f9f9f9f9f9f9f9f
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    example: tok_1F9f9f9f9f9f9f9f9f9f9f9f
                  object:
                    type: string
                    example: token
                  billing_details:
                    type: object
                    properties:
                      address:
                        type: object
                        properties:
                          city:
                            type: string
                            example: null
                          country:
                            type: string
                            example: null
                          line1:
                            type: string
                            example: null
                          line2:
                            type: string
                            example: null
                          postal_code:
                            type: string
                            example: null
                          state:
                            type: string
                            example: null
                      email:
                        type: string
                        example: null
                      name:
                        type: string
                        example: null
                      phone:
                        type: string
                        example: null
                  card:
                    type: object
                    properties:
                      object:
                        type: string
                        example: payment_method
                      brand:
                        type: string
                        example: visa
                      checks:
                        type: object
                        properties:
                          address_line1_check:
                            type: string
                            example: null
                          address_postal_code_check:
                            type: string
                            example: null
                          cvc_check:
                            type: string
                            example: null
                      country:
                        type: string
                        example: US
                      exp_month:
                        type: number
                        example: 12
                      exp_year:
                        type: number
                        example: 2022
                      funding:
                        type: string
                        example: credit
                      generated_from:
                        type: string
                        example: null
                      last4:
                        type: string
                        example: 4242
                      networks:
                        type: object
                        properties:
                          available:
                            type: array
                            items:
                              type: string
                              example: visa
                          preferred:
                            type: string
                            example: null
                      three_d_secure_usage:
                        type: object
                        properties:
                          supported:
                            type: boolean
                            example: true
                      wallet:
                        type: string
                        example: null
                  created:
                    type: integer
                    example: 1591234567
                  type:
                    type: string
                    example: card
  "/users/payment-methods/{paymentMethodTokenId}":
    get:
      tags:
        - Users
      summary: Get a payment method
      description: Get a payment method
      operationId: getPaymentMethod
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: paymentMethodTokenId
          in: path
          description: Payment Method Token ID
          required: true
          schema:
            type: string
            example: 5e7f7b9b0f8b9c0017b0b0b8
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    example: tok_1F9f9f9f9f9f9f9f9f9f9f9f
                  object:
                    type: string
                    example: token
                  billing_details:
                    type: object
                    properties:
                      address:
                        type: object
                        properties:
                          city:
                            type: string
                            example: null
                          country:
                            type: string
                            example: null
                          line1:
                            type: string
                            example: null
                          line2:
                            type: string
                            example: null
                          postal_code:
                            type: string
                            example: null
                          state:
                            type: string
                            example: null
                      email:
                        type: string
                        example: null
                      name:
                        type: string
                        example: null
                      phone:
                        type: string
                        example: null
                  card:
                    type: object
                    properties:
                      object:
                        type: string
                        example: payment_method
                      brand:
                        type: string
                        example: Visa
                      checks:
                        type: object
                        properties:
                          address_line1_check:
                            type: string
                            example: null
                          address_postal_code_check:
                            type: string
                            example: null
                          cvc_check:
                            type: string
                            example: null
                      country:
                        type: string
                        example: US
                      exp_month:
                        type: integer
                        example: 12
                      exp_year:
                        type: integer
                        example: 2022
                      funding:
                        type: string
                        example: credit
                      last4:
                        type: string
                        example: 4242
                      networks:
                        type: object
                        properties:
                          available:
                            type: array
                            items:
                              type: string
                              example: visa
                          preferred:
                            type: string
                            example: null
                      three_d_secure_usage:
                        type: object
                        properties:
                          supported:
                            type: boolean
                            example: null
                      wallet:
                        type: object
                        example: null
                  created:
                    type: integer
                    example: 1584030000
                  livemode:
                    type: boolean
                    example: false
                  type:
                    type: string
                    example: card
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
    delete:
      tags:
        - Users
      summary: Delete a payment method
      description: Delete a payment method
      operationId: deletePaymentMethod
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: paymentMethodTokenId
          in: path
          description: Payment method id
          required: true
          schema:
            type: string
            example: f9f9f9f9f9f9f9f9f9f9f9f9
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  deleted:
                    type: boolean
                    example: true
                  object:
                    type: string
                    example: payment_method
                  type:
                    type: string
                    example: card
                  last4:
                    type: string
                    example: 4242
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  /calendar/events:
    get:
      tags:
        - Calendar
      summary: Get all events
      description: Get all events for the logged in user.
      operationId: getEvents
      security:
        - jwt_context:
            - write
            - read
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    _id:
                      type: string
                      example: 5e1f9b9b9b9b9b9b9b9b9b9b
                    title:
                      type: string
                      example: Event 1
                    description:
                      type: string
                      example: Event 1 description
                    start:
                      type: date
                      example: 2020-03-25T00:00:00.000Z
                    end:
                      type: date
                      example: 2020-03-25T00:00:00.000Z
                    allDay:
                      type: boolean
                      example: false
                    textColor:
                      type: string
                      example: "#1890FF"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
    post:
      tags:
        - Calendar
      summary: Create an event
      description: Create an event
      operationId: createEvent
      security:
        - jwt_context:
            - write
            - read
      requestBody:
        description: Create Event.
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  example: Event 1
                description:
                  type: string
                  example: Event 1 description
                start:
                  type: date
                  example: 2020-03-25T00:00:00.000Z
                end:
                  type: date
                  example: 2020-03-25T00:00:00.000Z
                textColor:
                  type: string
                  example: "#1890FF"
        required: true
        security:
          - jwt_context:
              - "write:pets"
              - "read:pets"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 5e1f9b9b9b9b9b9b9b9b9b9b
                  title:
                    type: string
                    example: Event 1
                  description:
                    type: string
                    example: Event 1 description
                  start:
                    type: date
                    example: 2020-03-25T00:00:00.000Z
                  end:
                    type: date
                    example: 2020-03-25T00:00:00.000Z
                  allDay:
                    type: boolean
                    example: false
                  textColor:
                    type: string
                    example: "#1890FF"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  "/calendar/events/{eventId}":
    get:
      tags:
        - Calendar
      summary: Get an event
      description: Get an event
      operationId: getEvent
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: eventId
          in: path
          description: Event ID
          required: true
          schema:
            type: string
            example: 5e1f9b9b9b9b9b9b9b9b9b9b
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 5e1f9b9b9b9b9b9b9b9b9b9b
                  title:
                    type: string
                    example: Event 1
                  description:
                    type: string
                    example: Event 1 description
                  start:
                    type: date
                    example: 2020-03-25T00:00:00.000Z
                  end:
                    type: date
                    example: 2020-03-25T00:00:00.000Z
                  allDay:
                    type: boolean
                    example: false
                  textColor:
                    type: string
                    example: "#1890FF"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
    put:
      tags:
        - Calendar
      summary: Update an event
      description: >-
        Update an event. Only the fields that need to be updated need to be
        sent. It is not possible to update the user field.
      operationId: updateEvent
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: eventId
          in: path
          description: Event ID
          required: true
          schema:
            type: string
            example: 5e1f9b9b9b9b9b9b9b9b9b9b
      requestBody:
        description: Update an event
        content:
          application/json:
            schema:
              type: object
              properties:
                _id:
                  type: string
                  example: 5e1f9b9b9b9b9b9b9b9b9b9b
                title:
                  type: string
                  example: Event title
                description:
                  type: string
                  example: Event description
                start:
                  type: date
                  example: 2020-01-01T00:00:00.000Z
                end:
                  type: date
                  example: 2020-01-01T00:00:00.000Z
                allDay:
                  type: boolean
                  example: false
                textColor:
                  type: string
                  example: "#1890FF"
        required: true
        security:
          - jwt_context:
              - "write:pets"
              - "read:pets"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  _id:
                    type: string
                    example: 5e1f9b9b9b9b9b9b9b9b9b9b
                  title:
                    type: string
                    example: Event 1
                  description:
                    type: string
                    example: Event 1 description
                  start:
                    type: date
                    example: 2020-03-25T00:00:00.000Z
                  end:
                    type: date
                    example: 2020-03-25T00:00:00.000Z
                  allDay:
                    type: boolean
                    example: false
                  textColor:
                    type: string
                    example: "#1890FF"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
    delete:
      tags:
        - Calendar
      summary: Delete an event
      description: Delete an event
      operationId: deleteEvent
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: eventId
          in: path
          description: Event ID
          required: true
          schema:
            type: string
            example: f9f9f9f9f9f9f9f9f9f9f9f9
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  deleted:
                    type: boolean
                    example: true
                  deleted_document:
                    type: object
                    properties:
                      _id:
                        type: string
                        example: 5e1f9b9b9b9b9b9b9b9b9b9b
                      title:
                        type: string
                        example: Event 1
                      description:
                        type: string
                        example: Event 1 description
                      start:
                        type: date
                        example: 2020-03-25T00:00:00.000Z
                      end:
                        type: date
                        example: 2020-03-25T00:00:00.000Z
                      allDay:
                        type: boolean
                        example: false
                      textColor:
                        type: string
                        example: "#1890FF"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  /services:
    get:
      tags:
        - Services
      summary: Get all services
      description: Get all services
      operationId: getServices
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  services:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          example: 5e1f9b9b9b9b9b9b9b9b9b9b
                        name:
                          type: string
                          example: Service 1
                        description:
                          type: string
                          example: Service 1 description
                        short_description:
                          type: string
                          example: Service 1 short description
                        image:
                          type: string
                          example: "https://via.placeholder.com/150"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Invalid request
                  type:
                    type: string
                    example: INVALID_REQUEST
  /files:
    post:
      tags:
        - Files
      summary: Upload a file
      description: Upload a file
      operationId: uploadFile
      security:
        - jwt_context:
            - write
            - read
      requestBody:
        description: Upload a file
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
        required: true
        security:
          - jwt_context:
              - "write:pets"
              - "read:pets"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  key:
                    type: string
                    example: 17066.pdf
                  url:
                    type: string
                    example: >-
                      https://careplace-staging.s3.eu-west-3.amazonaws.com/17066.pdf
                  version:
                    type: string
                    example: uY0K7emb2fm3OGl57Ro4u24mvLKDOiwk
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  "/files/{fileId}":
    delete:
      tags:
        - Files
      summary: Delete a file
      description: Deletes a file
      operationId: deleteFile
      security:
        - jwt_context:
            - write
            - read
      parameters:
        - name: fileId
          in: path
          description: File ID
          required: true
          schema:
            type: string
            example: f9f9f9f9f9f9f9f9f9f9f9f9
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  deleted:
                    type: boolean
                    example: true
                  VersionId:
                    type: string
                    example: uY0K7emb2fm3OGl57Ro4u24mvLKDOiwk
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Missing or invalid token.
                  type:
                    type: string
                    example: INVALID_REQUEST
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Access token is expired.
                  type:
                    type: string
                    example: INVALID_REQUEST
  /admin/companies:
    post:
      tags:
        - Admin
      summary: Create Company
      description: >-
        Create a Company. <br> Right now you should use the Stripe Dashboard to
        create a company (Dashboard > Connect > Companies > Create Custom
        Account > Create Account Link (type: account_onboarding)). <br> Then use
        the Stripe Dashboard to create a Customer with the Company Information
        (Dashboard > Customer > Add Customer). <br> Finally you should create a
        company object in the database and add the account id and customer id to
        the company object (company > stripe_information > account_id &&
        customer_id).
      operationId: createCompany
  "/admin/companies/{companyId}/payment-method":
    post:
      tags:
        - Admin
      summary: Create Company Payment Method
      description: >-
        Create a Company Payment Method. <br> Right now you should use the
        Stripe Dashboard to create a company payment method (Dashboard >
        Customers > Payment Methods > Add Payment Method). <br>
      operationId: createCompanyPaymentMethod
    delete:
      tags:
        - Admin
      summary: Delete Company Payment Method
      description: >-
        Delete a Company Payment Method. <br> Right now you should use the
        Stripe Dashboard to delete a company payment method (Dashboard >
        Customers > Payment Methods > Delete Payment Method). <br>
      operationId: deleteCompanyPaymentMethod
components:
  schemas:
    CRM_User:
      type: object
      properties:
        _id:
          type: string
          example: 5e1f9b9b9b9b9b9b9b9b9b9b
        cognito_id:
          type: string
          example: 39425f3b-a637-4e6a-9db4-97fd2132a416
        name:
          type: string
          example: Henrique Fonseca
        email:
          type: string
          example: owner@staging.careplace.pt
        phone:
          type: string
          example: 912345678
        birthdate:
          type: date
          exampe: 2001-01-22T00:00:00.000Z
        gender:
          type: string
          example: male
          enum:
            - male
            - female
            - other
        profile_picture:
          type: string
          example: "https://s3.amazonaws.com/uifaces/faces/twitter/calebogden/128.jpg"
        company:
          $ref: "#/components/schemas/Company"
        address:
          type: object
          properties:
            street:
              type: string
              example: Rua Adriano Correia de Oliveira 4A
            postal_code:
              type: string
              example: 1234-567
            city:
              type: string
              example: Lisboa
            state:
              type: string
              example: CA
            country:
              type: string
              example: PT
              enum:
                - PT
            coordinates:
              type: object
              properties:
                latitute:
                  type: number
                  example: 38.736946
                longitude:
                  type: number
                  example: -9.142685
        role:
          type: string
          example: technical_direction
          enum:
            - technical_direction
            - social_worker
        accesses:
          type: array
          items:
            type: object
            properties:
              access:
                type: string
                example: dashboard
                enum:
                  - dashboard
                  - schedule
                  - orders
                  - collaborators
                  - invoicing
                  - chat
              view:
                type: boolean
                example: true
              edit:
                type: boolean
                example: null
        settings:
          type: object
          properties:
            theme:
              type: string
              example: dark
              enum:
                - dark
                - light
            notifications:
              type: object
              properties:
                email:
                  type: boolean
                  example: true
                sms:
                  type: boolean
                  example: true
                push:
                  type: boolean
                  example: true
      xml:
        name: CRM_User
    Marketplace_User:
      type: object
      properties:
        _id:
          type: string
          example: 5e1f9b9b9b9b9b9b9b9b9b9b
        cognito_id:
          type: string
          example: 39425f3b-a637-4e6a-9db4-97fd2132a416
        profile_picture:
          type: string
          example: "https://s3.amazonaws.com/uifaces/faces/twitter/calebogden/128.jpg"
        name:
          type: string
          example: Joo Anto
        email:
          type: string
          example: user@staging.careplace.pt
        phone:
          type: string
          example: 912345678
        birthdate:
          type: date
          exampe: 2002-10-03T00:00:00.000Z
        gender:
          type: string
          example: male
          enum:
            - male
            - female
            - other
        address:
          type: object
          properties:
            street:
              type: string
              example: Rua Adriano Correia de Oliveira 4A
            postal_code:
              type: string
              example: 1234-567
            city:
              type: string
              example: Lisboa
            state:
              type: string
              example: CA
            country:
              type: string
              example: PT
              enum:
                - PT
            coordinates:
              type: object
              properties:
                latitute:
                  type: number
                  example: 38.736946
                longitude:
                  type: number
                  example: -9.142685
        stripe_information:
          type: object
          properties:
            customer_id:
              type: string
              example: cus_5e1f9b9b9b9b9b9b9b9b9b9b
        settings:
          type: object
          properties:
            theme:
              type: string
              example: dark
              enum:
                - dark
                - light
            notifications:
              type: object
              properties:
                email:
                  type: boolean
                  example: true
                sms:
                  type: boolean
                  example: true
                push:
                  type: boolean
                  example: true
      xml:
        name: Marketplace_User
    Caregiver:
      type: object
      properties:
        _id:
          type: string
          example: 5e1f9b9b9b9b9b9b9b9b9b9b
        name:
          type: string
          example: Henrique Fonseca
        email:
          type: string
          example: caregiver@staging.careplace.pt
        phone:
          type: string
          example: 912345678
        birthdate:
          type: date
          exampe: 2001-01-22T00:00:00.000Z
        gender:
          type: string
          example: male
          enum:
            - male
            - female
            - other
        company:
          $ref: "#/components/schemas/Company"
        services:
          type: array
          items:
            $ref: "#/components/schemas/Service"
        address:
          type: object
          properties:
            street:
              type: string
              example: Rua Adriano Correia de Oliveira 4A
            postal_code:
              type: string
              example: 1234-567
            city:
              type: string
              example: Lisboa
            state:
              type: string
              example: CA
            country:
              type: string
              example: PT
              enum:
                - PT
            coordinates:
              type: object
              properties:
                latitute:
                  type: number
                  example: 38.736946
                longitude:
                  type: number
                  example: -9.142685
        role:
          type: string
          example: caregiver
          enum:
            - caregiver
        profile_picture:
          type: string
          example: "https://s3.amazonaws.com/uifaces/faces/twitter/calebogden/128.jpg"
    Relative:
      type: object
      properties:
        _id:
          type: string
          example: 5e1f9b9b9b9b9b9b9b9b9b9b
        user:
          $ref: "#/components/schemas/Marketplace_User"
        profile_picture:
          type: string
          example: "https://s3.amazonaws.com/uifaces/faces/twitter/calebogden/128.jpg"
        name:
          type: string
          example: John Wick
        kinship:
          type: object
          properties:
            from_user:
              type: string
              example: son
              enum:
                - father
                - mother
                - brother
                - sister
                - son
                - daughter
                - uncle
                - aunt
                - nephew
                - niece
                - grandparent
                - grandchild
                - other
            to_user:
              type: string
              example: father
              enum:
                - father
                - mother
                - brother
                - sister
                - son
                - daughter
                - uncle
                - aunt
                - nephew
                - niece
                - grandparent
                - grandchild
                - other
        birthdate:
          type: date
          example: 1347-03-27T00:00:00.000Z
        gender:
          type: string
          example: male
          enum:
            - male
            - female
            - other
        medical_conditions:
          type: array
          items:
            type: string
            example: Diabetes
        address:
          type: object
          properties:
            street:
              type: string
              example: Rua Adriano Correia de Oliveira 4A
            postal_code:
              type: string
              example: 1234-567
            city:
              type: string
              example: Lisboa
            state:
              type: string
              example: CA
            country:
              type: string
              example: PT
              enum:
                - PT
            coordinates:
              type: object
              properties:
                latitute:
                  type: number
                  example: 38.736946
                longitude:
                  type: number
                  example: -9.142685
    Company:
      type: object
      properties:
        _id:
          type: string
          example: 5e1f9b9b9b9b9b9b9b9b9b9b
        business_profile:
          type: object
          properties:
            name:
              type: string
              example: Careplace
            email:
              type: string
              example: geral@company.pt
            phone:
              type: string
              example: 9CareplaceDemo-123!78
            website:
              type: string
              example: www.company.pt
            logo:
              type: string
              example: >-
                https://s3.amazonaws.com/uifaces/faces/twitter/calebogden/128.jpg
            cover:
              type: string
              example: >-
                https://s3.amazonaws.com/uifaces/faces/twitter/calebogden/128.jpg
        services:
          type: array
          items:
            $ref: "#/components/schemas/Service"
        service_area:
          type: array
          items:
            type: object
            properties:
              lat:
                type: string
                example: 38.71667
              long:
                type: string
                example: -9.13333
        team:
          type: array
          items:
            $ref: "#/components/schemas/CRM_User"
        legal_information:
          type: object
          properties:
            name:
              type: string
              example: "CAREPLACE, LDA."
            director:
              $ref: "#/components/schemas/CRM_User"
            tax_id:
              type: string
              example: 123456789
            business_structure:
              type: string
              example: Sociedade por Quotas
            address:
              type: object
              properties:
                street:
                  type: string
                  example: Rua Adriano Correia de Oliveira 4A
                postal_code:
                  type: string
                  example: 1234-567
                city:
                  type: string
                  example: Lisboa
                state:
                  type: string
                  example: CA
                country:
                  type: string
                  example: PT
                  enum:
                    - PT
              coordinates:
                type: object
                properties:
                  latitute:
                    type: number
                    example: 38.736946
                  longitude:
                    type: number
                    example: -9.142685
        stripe_information:
          type: object
          properties:
            account_id:
              type: string
              example: acct_5e1f9b9b9b9b9b9b9b9b9b9b
            customer_id:
              type: string
              example: cus_5e1f9b9b9b9b9b9b9b9b9b9b
    Event:
      type: object
      properties:
        _id:
          type: string
          example: 5e1f9b9b9b9b9b9b9b9b9b9b
        user:
          $ref: "#/components/schemas/CRM_User"
        series:
          $ref: "#/components/schemas/Event_Series"
        title:
          type: string
          example: John's Wick Birthday
        description:
          type: string
          example: John's Wick Birthday Party at the Zoo
        start:
          type: timestamp
          example: 2019-03-27T12:00:00.000Z
        end:
          type: timestamp
          example: 2019-03-27T12:00:00.000Z
        allDay:
          type: boolean
          example: false
        location:
          type: string
          example: Zoo
        textColor:
          type: string
          example: "#1890FF"
    Event_Series:
      type: object
      properties:
        _id:
          type: string
          example: 5e1f9b9b9b9b9b9b9b9b9b9b
        user:
          $ref: "#/components/schemas/CRM_User"
        recurrence:
          type: integer
          example: 1
          enum:
            - 1
            - 2
            - 4
        schedule:
          type: array
          items:
            type: object
            properties:
              start:
                type: timestamp
                example: 2019-03-27T12:00:00.000Z
              end:
                type: timestamp
                example: 2019-03-27T12:00:00.000Z
        end_series:
          type: object
          properties:
            ending_type:
              type: integer
              example: 1
              enum:
                - 0
                - 1
                - 2
            end_date:
              type: timestamp
              example: 2019-03-27T12:00:00.000Z
            end_occurrences:
              type: integer
              example: 10
        title:
          type: string
          example: John's Wick Birthday
        description:
          type: string
          example: John's Wick Birthday Party at the Zoo
        start:
          type: timestamp
          example: 2019-03-27T12:00:00.000Z
        end:
          type: timestamp
          example: 2019-03-27T12:00:00.000Z
        allDay:
          type: boolean
          example: false
        location:
          type: string
          example: Zoo
        textColor:
          type: string
          example: "#1890FF"
    Order:
      type: object
      properties:
        _id:
          type: string
          example: 5e1f9b9b9b9b9b9b9b9b9b9b
        company:
          $ref: "#/components/schemas/Company"
        caregiver:
          $ref: "#/components/schemas/CRM_User"
        user:
          $ref: "#/components/schemas/Marketplace_User"
        relative:
          $ref: "#/components/schemas/Relative"
        status:
          type: string
          example: new
          enum:
            - new
            - declined
            - cancelled
            - accepted
            - payment_pending
            - active
        order_total:
          description: Total price of the order
          type: number
          example: 100
          required: true
        services:
          type: array
          items:
            $ref: "#/components/schemas/Service"
        schedule_information:
          type: object
          properties:
            start_date:
              type: timestamp
              example: 2019-03-27T12:00:00.000Z
            end_date:
              type: timestamp
              example: 2019-03-27T12:00:00.000Z
            recurrence:
              type: integer
              example: 1
              enum:
                - 1
                - 2
                - 4
            schedule:
              type: array
              items:
                type: object
                properties:
                  week_day:
                    type: integer
                    example: 1
                    enum:
                      - 1
                      - 2
                      - 3
                      - 4
                      - 5
                      - 6
                      - 7
                  start:
                    type: timestamp
                    example: 2019-03-27T12:00:00.000Z
                  end:
                    type: timestamp
                    example: 2019-03-27T12:00:00.000Z
        address:
          type: object
          properties:
            street:
              type: string
              example: Rua Adriano Correia de Oliveira 4A
            postal_code:
              type: string
              example: 1234-567
            city:
              type: string
              example: Lisboa
            state:
              type: string
              example: CA
            country:
              type: string
              example: PT
              enum:
                - PT
            coordinates:
              type: object
              properties:
                latitute:
                  type: number
                  example: 38.736946
                longitude:
                  type: number
                  example: -9.142685
        screening_visit:
          $ref: "#/components/schemas/Event"
    Service:
      type: object
      properties:
        _id:
          type: string
          example: 5e1f9b9b9b9b9b9b9b9b9b9b
        name:
          type: string
          example: Bathing
        description:
          type: string
          example: Bathing
        short_description:
          type: string
          example: Bathing
        image:
          type: string
          example: "https://www.google.com"
  securitySchemes:
    jwt_context:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT token
